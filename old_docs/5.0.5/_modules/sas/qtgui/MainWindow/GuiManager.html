
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>sas.qtgui.MainWindow.GuiManager &#8212; SasView 5.0.5 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/classic.css" />
    
    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../index.html">SasView 5.0.5 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../index.html" >Module code</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../../sas.html" accesskey="U">sas</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">sas.qtgui.MainWindow.GuiManager</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for sas.qtgui.MainWindow.GuiManager</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">webbrowser</span>
<span class="kn">import</span> <span class="nn">traceback</span>

<span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtGui</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtCore</span> <span class="kn">import</span> <span class="n">Qt</span><span class="p">,</span> <span class="n">QLocale</span><span class="p">,</span> <span class="n">QUrl</span>

<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s2">&quot;Qt5Agg&quot;</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">sas.sasview</span> <span class="kn">import</span> <span class="n">__version__</span> <span class="k">as</span> <span class="n">SASVIEW_VERSION</span>
<span class="kn">from</span> <span class="nn">sas.sasview</span> <span class="kn">import</span> <span class="n">__release_date__</span> <span class="k">as</span> <span class="n">SASVIEW_RELEASE_DATE</span>

<span class="kn">from</span> <span class="nn">twisted.internet</span> <span class="kn">import</span> <span class="n">reactor</span>
<span class="c1"># General SAS imports</span>
<span class="kn">from</span> <span class="nn">sas</span> <span class="kn">import</span> <span class="n">get_local_config</span><span class="p">,</span> <span class="n">get_custom_config</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.Utilities.ConnectionProxy</span> <span class="kn">import</span> <span class="n">ConnectionProxy</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.Utilities.SasviewLogger</span> <span class="kn">import</span> <span class="n">setup_qt_logging</span>

<span class="kn">import</span> <span class="nn">sas.qtgui.Utilities.LocalConfig</span> <span class="k">as</span> <span class="nn">LocalConfig</span>
<span class="kn">import</span> <span class="nn">sas.qtgui.Utilities.GuiUtils</span> <span class="k">as</span> <span class="nn">GuiUtils</span>

<span class="kn">import</span> <span class="nn">sas.qtgui.Utilities.ObjectLibrary</span> <span class="k">as</span> <span class="nn">ObjectLibrary</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.Utilities.TabbedModelEditor</span> <span class="kn">import</span> <span class="n">TabbedModelEditor</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.Utilities.PluginManager</span> <span class="kn">import</span> <span class="n">PluginManager</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.Utilities.GridPanel</span> <span class="kn">import</span> <span class="n">BatchOutputPanel</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.Utilities.ResultPanel</span> <span class="kn">import</span> <span class="n">ResultPanel</span>

<span class="kn">from</span> <span class="nn">sas.qtgui.Utilities.ReportDialog</span> <span class="kn">import</span> <span class="n">ReportDialog</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.MainWindow.Acknowledgements</span> <span class="kn">import</span> <span class="n">Acknowledgements</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.MainWindow.AboutBox</span> <span class="kn">import</span> <span class="n">AboutBox</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.MainWindow.WelcomePanel</span> <span class="kn">import</span> <span class="n">WelcomePanel</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.MainWindow.CategoryManager</span> <span class="kn">import</span> <span class="n">CategoryManager</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.MainWindow.PackageGatherer</span> <span class="kn">import</span> <span class="n">PackageGatherer</span>

<span class="kn">from</span> <span class="nn">sas.qtgui.MainWindow.DataManager</span> <span class="kn">import</span> <span class="n">DataManager</span>

<span class="kn">from</span> <span class="nn">sas.qtgui.Calculators.SldPanel</span> <span class="kn">import</span> <span class="n">SldPanel</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.Calculators.DensityPanel</span> <span class="kn">import</span> <span class="n">DensityPanel</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.Calculators.KiessigPanel</span> <span class="kn">import</span> <span class="n">KiessigPanel</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.Calculators.SlitSizeCalculator</span> <span class="kn">import</span> <span class="n">SlitSizeCalculator</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.Calculators.GenericScatteringCalculator</span> <span class="kn">import</span> <span class="n">GenericScatteringCalculator</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.Calculators.ResolutionCalculatorPanel</span> <span class="kn">import</span> <span class="n">ResolutionCalculatorPanel</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.Calculators.DataOperationUtilityPanel</span> <span class="kn">import</span> <span class="n">DataOperationUtilityPanel</span>

<span class="kn">import</span> <span class="nn">sas.qtgui.Plotting.PlotHelper</span> <span class="k">as</span> <span class="nn">PlotHelper</span>

<span class="c1"># Perspectives</span>
<span class="kn">import</span> <span class="nn">sas.qtgui.Perspectives</span> <span class="k">as</span> <span class="nn">Perspectives</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.Perspectives.Fitting.FittingPerspective</span> <span class="kn">import</span> <span class="n">FittingWindow</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.MainWindow.DataExplorer</span> <span class="kn">import</span> <span class="n">DataExplorerWindow</span><span class="p">,</span> <span class="n">DEFAULT_PERSPECTIVE</span>

<span class="kn">from</span> <span class="nn">sas.qtgui.Utilities.AddMultEditor</span> <span class="kn">import</span> <span class="n">AddMultEditor</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.Utilities.ImageViewer</span> <span class="kn">import</span> <span class="n">ImageViewer</span>
<span class="kn">from</span> <span class="nn">sas.qtgui.Utilities.FileConverter</span> <span class="kn">import</span> <span class="n">FileConverterWidget</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>


<div class="viewcode-block" id="GuiManager"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager">[docs]</a><span class="k">class</span> <span class="nc">GuiManager</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Main SasView window functionality</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="GuiManager.__init__"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the manager as a child of MainWindow.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="n">parent</span>

        <span class="c1"># Decide on a locale</span>
        <span class="n">QLocale</span><span class="o">.</span><span class="n">setDefault</span><span class="p">(</span><span class="n">QLocale</span><span class="p">(</span><span class="s1">&#39;en_US&#39;</span><span class="p">))</span>

        <span class="c1"># Redefine exception hook to not explicitly crash the app.</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">excepthook</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span>

        <span class="c1"># Add signal callbacks</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addCallbacks</span><span class="p">()</span>

        <span class="c1"># Assure model categories are available</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addCategories</span><span class="p">()</span>

        <span class="c1"># Create the data manager</span>
        <span class="c1"># TODO: pull out all required methods from DataManager and reimplement</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_manager</span> <span class="o">=</span> <span class="n">DataManager</span><span class="p">()</span>

        <span class="c1"># Create action triggers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addTriggers</span><span class="p">()</span>

        <span class="c1"># Currently displayed perspective</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loadedPerspectives</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># Populate the main window with stuff</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addWidgets</span><span class="p">()</span>

        <span class="c1"># Fork off logging messages to the Log Window</span>
        <span class="n">handler</span> <span class="o">=</span> <span class="n">setup_qt_logging</span><span class="p">()</span>
        <span class="n">handler</span><span class="o">.</span><span class="n">messageWritten</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">appendLog</span><span class="p">)</span>

        <span class="c1"># Log the start of the session</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; --- SasView session started, version </span><span class="si">{</span><span class="n">SASVIEW_VERSION</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">SASVIEW_RELEASE_DATE</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>
        <span class="c1"># Log the python version</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Python: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">sys</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>

        <span class="c1"># Set up the status bar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusBarSetup</span><span class="p">()</span>

        <span class="c1"># Current tutorial location</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tutorialLocation</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">GuiUtils</span><span class="o">.</span><span class="n">HELP_DIRECTORY_LOCATION</span><span class="p">,</span>
                                              <span class="s2">&quot;_downloads&quot;</span><span class="p">,</span>
                                              <span class="s2">&quot;Tutorial.pdf&quot;</span><span class="p">))</span></div>

<div class="viewcode-block" id="GuiManager.info"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.info">[docs]</a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">tb</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_exception</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">tb</span><span class="p">)))</span></div>

<div class="viewcode-block" id="GuiManager.addWidgets"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.addWidgets">[docs]</a>    <span class="k">def</span> <span class="nf">addWidgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Populate the main window with widgets</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Preload all perspectives</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loadAllPerspectives</span><span class="p">()</span>

        <span class="c1"># Add FileDialog widget as docked</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span> <span class="o">=</span> <span class="n">DataExplorerWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">manager</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_manager</span><span class="p">)</span>
        <span class="n">ObjectLibrary</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s1">&#39;DataExplorer&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dockedFilesWidget</span> <span class="o">=</span> <span class="n">QDockWidget</span><span class="p">(</span><span class="s2">&quot;Data Explorer&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dockedFilesWidget</span><span class="o">.</span><span class="n">setFloating</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dockedFilesWidget</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="p">)</span>

        <span class="c1"># Modify menu items on widget visibility change</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dockedFilesWidget</span><span class="o">.</span><span class="n">visibilityChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">updateContextMenus</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">addDockWidget</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">LeftDockWidgetArea</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dockedFilesWidget</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">resizeDocks</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">dockedFilesWidget</span><span class="p">],</span> <span class="p">[</span><span class="mi">305</span><span class="p">],</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Horizontal</span><span class="p">)</span>

        <span class="c1"># Add the console window as another docked widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logDockWidget</span> <span class="o">=</span> <span class="n">QDockWidget</span><span class="p">(</span><span class="s2">&quot;Log Explorer&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logDockWidget</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;LogDockWidget&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logDockWidget</span><span class="o">.</span><span class="n">visibilityChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">updateLogContextMenus</span><span class="p">)</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">listWidget</span> <span class="o">=</span> <span class="n">QTextBrowser</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logDockWidget</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">listWidget</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">addDockWidget</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">BottomDockWidgetArea</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">logDockWidget</span><span class="p">)</span>

        <span class="c1"># Add other, minor widgets</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ackWidget</span> <span class="o">=</span> <span class="n">Acknowledgements</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">aboutWidget</span> <span class="o">=</span> <span class="n">AboutBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">categoryManagerWidget</span> <span class="o">=</span> <span class="n">CategoryManager</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">,</span> <span class="n">manager</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">grid_window</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_window</span> <span class="o">=</span> <span class="n">BatchOutputPanel</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;darwin&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">grid_window</span><span class="o">.</span><span class="n">menubar</span><span class="o">.</span><span class="n">setNativeMenuBar</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_subwindow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">addSubWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">grid_window</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_subwindow</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_window</span><span class="o">.</span><span class="n">windowClosedSignal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">grid_subwindow</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">results_panel</span> <span class="o">=</span> <span class="n">ResultPanel</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">,</span> <span class="n">manager</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">addSubWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">results_panel</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_frame</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_panel</span><span class="o">.</span><span class="n">windowClosedSignal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">results_frame</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">toolBar</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="n">LocalConfig</span><span class="o">.</span><span class="n">TOOLBAR_SHOW</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionHide_Toolbar</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Show Toolbar&quot;</span><span class="p">)</span>

        <span class="c1"># Add calculators - floating for usability</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SLDCalculator</span> <span class="o">=</span> <span class="n">SldPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">DVCalculator</span> <span class="o">=</span> <span class="n">DensityPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">KIESSIGCalculator</span> <span class="o">=</span> <span class="n">KiessigPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SlitSizeCalculator</span> <span class="o">=</span> <span class="n">SlitSizeCalculator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">GENSASCalculator</span> <span class="o">=</span> <span class="n">GenericScatteringCalculator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ResolutionCalculator</span> <span class="o">=</span> <span class="n">ResolutionCalculatorPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">DataOperation</span> <span class="o">=</span> <span class="n">DataOperationUtilityPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">FileConverter</span> <span class="o">=</span> <span class="n">FileConverterWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.loadAllPerspectives"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.loadAllPerspectives">[docs]</a>    <span class="k">def</span> <span class="nf">loadAllPerspectives</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Close any existing perspectives to prevent multiple open instances</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">closeAllPerspectives</span><span class="p">()</span>
        <span class="c1"># Load all perspectives</span>
        <span class="n">loaded_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">perspective</span> <span class="ow">in</span> <span class="n">Perspectives</span><span class="o">.</span><span class="n">PERSPECTIVES</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">loaded_perspective</span> <span class="o">=</span> <span class="n">perspective</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
                <span class="n">loaded_dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">loaded_perspective</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to load </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> perspective.</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loadedPerspectives</span> <span class="o">=</span> <span class="n">loaded_dict</span></div>

<div class="viewcode-block" id="GuiManager.closeAllPerspectives"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.closeAllPerspectives">[docs]</a>    <span class="k">def</span> <span class="nf">closeAllPerspectives</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Close all perspectives if they are open</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">loadedPerspectives</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">perspective</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">loadedPerspectives</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">perspective</span><span class="o">.</span><span class="n">setClosable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">subwindow</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">subWindowList</span><span class="p">():</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">removeSubWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subwindow</span><span class="p">)</span>
                    <span class="n">perspective</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to close </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> perspective</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loadedPerspectives</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="GuiManager.addCategories"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.addCategories">[docs]</a>    <span class="k">def</span> <span class="nf">addCategories</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Make sure categories.json exists and if not compile it and install in ~/.sasview</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">sas.sascalc.fit.models</span> <span class="kn">import</span> <span class="n">ModelManager</span>
            <span class="kn">from</span> <span class="nn">sas.qtgui.Utilities.CategoryInstaller</span> <span class="kn">import</span> <span class="n">CategoryInstaller</span>
            <span class="n">model_list</span> <span class="o">=</span> <span class="n">ModelManager</span><span class="p">()</span><span class="o">.</span><span class="n">cat_model_list</span><span class="p">()</span>
            <span class="n">CategoryInstaller</span><span class="o">.</span><span class="n">check_install</span><span class="p">(</span><span class="n">model_list</span><span class="o">=</span><span class="n">model_list</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="kn">import</span> <span class="nn">traceback</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">: could not load SasView models&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">())</span></div>

<div class="viewcode-block" id="GuiManager.updatePlotItems"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.updatePlotItems">[docs]</a>    <span class="k">def</span> <span class="nf">updatePlotItems</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graphs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Wrapper for adding/removing actions in the windows menu</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">plot</span><span class="p">,</span> <span class="n">delete</span> <span class="o">=</span> <span class="n">graphs</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">plot</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">delete</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">removePlotItemsInWindowsMenu</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addPlotItemsInWindowsMenu</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span></div>


<div class="viewcode-block" id="GuiManager.addPlotItemsInWindowsMenu"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.addPlotItemsInWindowsMenu">[docs]</a>    <span class="k">def</span> <span class="nf">addPlotItemsInWindowsMenu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plot</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Dynamically update the QMenu content and assign signals</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">plot</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">plot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
        <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menuWindow</span><span class="o">.</span><span class="n">actions</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">text</span><span class="p">()</span> <span class="o">==</span> <span class="n">name</span><span class="p">:</span>
                <span class="c1"># action with this name already exists</span>
                <span class="k">return</span>

        <span class="c1"># create action for this plot</span>
        <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menuWindow</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="c1"># connect action to slot</span>
        <span class="n">action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span> <span class="n">chk</span><span class="p">,</span> <span class="n">item</span><span class="o">=</span><span class="n">name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotSelectedSlot</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
        <span class="c1"># add action to windows menu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menuWindow</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.plotSelectedSlot"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.plotSelectedSlot">[docs]</a>    <span class="k">def</span> <span class="nf">plotSelectedSlot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plot_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set focus on the selected plot</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># loop over all visible plots and find the requested plot</span>
        <span class="k">for</span> <span class="n">plot</span> <span class="ow">in</span> <span class="n">PlotHelper</span><span class="o">.</span><span class="n">currentPlots</span><span class="p">():</span>
            <span class="c1"># take last plot</span>
            <span class="k">if</span> <span class="n">PlotHelper</span><span class="o">.</span><span class="n">plotById</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">plot_name</span><span class="p">:</span>
                <span class="c1"># set focus on the plot</span>
                <span class="c1"># Note: none of the StackOverflow recommended solutions work here!</span>
                <span class="c1"># neither raise_(), nor showNormal() nor setWindowState(Qt.WindowActive)</span>
                <span class="n">PlotHelper</span><span class="o">.</span><span class="n">plotById</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span><span class="o">.</span><span class="n">showNormal</span><span class="p">()</span>
                <span class="n">PlotHelper</span><span class="o">.</span><span class="n">plotById</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span><span class="o">.</span><span class="n">setFocus</span><span class="p">()</span>
                <span class="k">return</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="GuiManager.removePlotItemsInWindowsMenu"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.removePlotItemsInWindowsMenu">[docs]</a>    <span class="k">def</span> <span class="nf">removePlotItemsInWindowsMenu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plot</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Dynamically update the QMenu content and disconnect signals</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">plot</span><span class="p">:</span> <span class="c1"># watch out for quick plots</span>
            <span class="k">return</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
        <span class="c1"># loop over actions</span>
        <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menuWindow</span><span class="o">.</span><span class="n">actions</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">text</span><span class="p">()</span> <span class="o">==</span> <span class="n">name</span><span class="p">:</span>
                <span class="c1"># disconnect action to slot</span>
                <span class="n">action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menuWindow</span><span class="o">.</span><span class="n">removeAction</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
                <span class="k">return</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="GuiManager.updateLogContextMenus"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.updateLogContextMenus">[docs]</a>    <span class="k">def</span> <span class="nf">updateLogContextMenus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Modify the View/Data Explorer menu item text on widget visibility</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">visible</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionHide_LogExplorer</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Hide Log Explorer&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionHide_LogExplorer</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Show Log Explorer&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.updateContextMenus"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.updateContextMenus">[docs]</a>    <span class="k">def</span> <span class="nf">updateContextMenus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Modify the View/Data Explorer menu item text on widget visibility</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">visible</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionHide_DataExplorer</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Hide Data Explorer&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionHide_DataExplorer</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Show Data Explorer&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.statusBarSetup"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.statusBarSetup">[docs]</a>    <span class="k">def</span> <span class="nf">statusBarSetup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Define the status bar.</span>
<span class="sd">        | &lt;message label&gt; .... | Progress Bar |</span>

<span class="sd">        Progress bar invisible until explicitly shown</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="n">QProgressBar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">setSizeGripEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">statusLabel</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusLabel</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Welcome to SasView&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">addPermanentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statusLabel</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">addPermanentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="o">.</span><span class="n">setRange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="o">.</span><span class="n">setTextVisible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.fileWasRead"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.fileWasRead">[docs]</a>    <span class="k">def</span> <span class="nf">fileWasRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Callback for fileDataReceivedSignal</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="GuiManager.showHelp"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.showHelp">[docs]</a>    <span class="k">def</span> <span class="nf">showHelp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Open a local url in the default browser</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">GuiUtils</span><span class="o">.</span><span class="n">showHelp</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.workspace"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.workspace">[docs]</a>    <span class="k">def</span> <span class="nf">workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Accessor for the main window workspace</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">workspace</span></div>

<div class="viewcode-block" id="GuiManager.perspectiveChanged"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.perspectiveChanged">[docs]</a>    <span class="k">def</span> <span class="nf">perspectiveChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">perspective_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Respond to change of the perspective signal</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Remove the previous perspective from the window</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clearPerspectiveMenubarOptions</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="p">:</span>
            <span class="c1"># Remove perspective and store in Perspective dictionary</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">loadedPerspectives</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">removeSubWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">removeSubWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subwindow</span><span class="p">)</span>
        <span class="c1"># Get new perspective</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">loadedPerspectives</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">perspective_name</span><span class="p">)]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setupPerspectiveMenubarOptions</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">subwindow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">addSubWindow</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="p">)</span>

        <span class="c1"># Resize to the workspace height</span>
        <span class="n">workspace_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">sizeHint</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
        <span class="n">perspective_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="o">.</span><span class="n">sizeHint</span><span class="p">()</span>
        <span class="n">perspective_width</span> <span class="o">=</span> <span class="n">perspective_size</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">perspective_width</span><span class="p">,</span> <span class="n">workspace_height</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.updatePerspective"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.updatePerspective">[docs]</a>    <span class="k">def</span> <span class="nf">updatePerspective</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update perspective with data sent.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;No perspective is currently active.&quot;</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.communicator"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.communicator">[docs]</a>    <span class="k">def</span> <span class="nf">communicator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Accessor for the communicator &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span></div>

<div class="viewcode-block" id="GuiManager.perspective"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.perspective">[docs]</a>    <span class="k">def</span> <span class="nf">perspective</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Accessor for the perspective &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span></div>

<div class="viewcode-block" id="GuiManager.updateProgressBar"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.updateProgressBar">[docs]</a>    <span class="k">def</span> <span class="nf">updateProgressBar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update progress bar with the required value (0-100)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="mi">100</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="o">.</span><span class="n">isVisible</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="o">.</span><span class="n">setTextVisible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.updateStatusBar"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.updateStatusBar">[docs]</a>    <span class="k">def</span> <span class="nf">updateStatusBar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the status bar text</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusLabel</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">text</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.appendLog"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.appendLog">[docs]</a>    <span class="k">def</span> <span class="nf">appendLog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Appends a message to the list widget in the Log Explorer. Use this</span>
<span class="sd">        instead of listWidget.insertPlainText() to facilitate auto-scrolling&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">listWidget</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span></div>

<div class="viewcode-block" id="GuiManager.createGuiData"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.createGuiData">[docs]</a>    <span class="k">def</span> <span class="nf">createGuiData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">p_file</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Access the Data1D -&gt; plottable Data1D conversion</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_manager</span><span class="o">.</span><span class="n">create_gui_data</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">p_file</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.setData"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.setData">[docs]</a>    <span class="k">def</span> <span class="nf">setData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sends data to current perspective</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Guiframe does not have a current perspective&quot;</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.findItemFromFilename"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.findItemFromFilename">[docs]</a>    <span class="k">def</span> <span class="nf">findItemFromFilename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Queries the data explorer for the index corresponding to the filename within</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">itemFromFilename</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.quitApplication"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.quitApplication">[docs]</a>    <span class="k">def</span> <span class="nf">quitApplication</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Close the reactor and exit nicely.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Display confirmation messagebox</span>
        <span class="n">quit_msg</span> <span class="o">=</span> <span class="s2">&quot;Are you sure you want to exit the application?&quot;</span>
        <span class="n">reply</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">question</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">,</span>
            <span class="s1">&#39;Information&#39;</span><span class="p">,</span>
            <span class="n">quit_msg</span><span class="p">,</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span><span class="p">,</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span><span class="p">)</span>

        <span class="c1"># Exit if yes</span>
        <span class="k">if</span> <span class="n">reply</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span><span class="p">:</span>

            <span class="c1"># save the paths etc.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">saveCustomConfig</span><span class="p">()</span>
            <span class="n">reactor</span><span class="o">.</span><span class="n">callFromThread</span><span class="p">(</span><span class="n">reactor</span><span class="o">.</span><span class="n">stop</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="GuiManager.checkUpdate"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.checkUpdate">[docs]</a>    <span class="k">def</span> <span class="nf">checkUpdate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check with the deployment server whether a new version</span>
<span class="sd">        of the application is available.</span>
<span class="sd">        A thread is started for the connecting with the server. The thread calls</span>
<span class="sd">        a call-back method when the current version number has been obtained.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">version_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.0.0&quot;</span><span class="p">}</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">ConnectionProxy</span><span class="p">(</span><span class="n">LocalConfig</span><span class="o">.</span><span class="n">__update_URL__</span><span class="p">,</span> <span class="n">LocalConfig</span><span class="o">.</span><span class="n">UPDATE_TIMEOUT</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">response</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Connected to www.sasview.org. Latest version: </span><span class="si">%s</span><span class="s2">&quot;</span>
                            <span class="o">%</span> <span class="p">(</span><span class="n">content</span><span class="p">))</span>
            <span class="n">version_info</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">processVersion</span><span class="p">(</span><span class="n">version_info</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Failed to connect to www.sasview.org:&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.log_installed_packages"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.log_installed_packages">[docs]</a>    <span class="k">def</span> <span class="nf">log_installed_packages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Log version number of locally installed python packages</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">PackageGatherer</span><span class="p">()</span><span class="o">.</span><span class="n">log_installed_modules</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.log_imported_packages"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.log_imported_packages">[docs]</a>    <span class="k">def</span> <span class="nf">log_imported_packages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Log version number of python packages imported in this instance of SasView.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">PackageGatherer</span><span class="p">()</span><span class="o">.</span><span class="n">log_imported_packages</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.processVersion"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.processVersion">[docs]</a>    <span class="k">def</span> <span class="nf">processVersion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version_info</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Call-back method for the process of checking for updates.</span>
<span class="sd">        This methods is called by a VersionThread object once the current</span>
<span class="sd">        version number has been obtained. If the check is being done in the</span>
<span class="sd">        background, the user will not be notified unless there&#39;s an update.</span>

<span class="sd">        :param version: version string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">version</span> <span class="o">=</span> <span class="n">version_info</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">version</span> <span class="o">==</span> <span class="s2">&quot;0.0.0&quot;</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Could not connect to the application server.&quot;</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; Please try again later.&quot;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">statusBarUpdateSignal</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">version</span><span class="o">.</span><span class="fm">__gt__</span><span class="p">(</span><span class="n">LocalConfig</span><span class="o">.</span><span class="n">__version__</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Version </span><span class="si">%s</span><span class="s2"> is available! &quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
                <span class="k">if</span> <span class="s2">&quot;download_url&quot;</span> <span class="ow">in</span> <span class="n">version_info</span><span class="p">:</span>
                    <span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">version_info</span><span class="p">[</span><span class="s2">&quot;download_url&quot;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">LocalConfig</span><span class="o">.</span><span class="n">__download_page__</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">statusBarUpdateSignal</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;You have the latest version&quot;</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; of </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">LocalConfig</span><span class="o">.</span><span class="n">__appname__</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">statusBarUpdateSignal</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;guiframe: could not get latest application&quot;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; version number</span><span class="se">\n</span><span class="s2">  </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Could not connect to the application server.&quot;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; Please try again later.&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">statusBarUpdateSignal</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.actionWelcome"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionWelcome">[docs]</a>    <span class="k">def</span> <span class="nf">actionWelcome</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Show the Welcome panel &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">welcomePanel</span> <span class="o">=</span> <span class="n">WelcomePanel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">addSubWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">welcomePanel</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">welcomePanel</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.showWelcomeMessage"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.showWelcomeMessage">[docs]</a>    <span class="k">def</span> <span class="nf">showWelcomeMessage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Show the Welcome panel, when required &quot;&quot;&quot;</span>
        <span class="c1"># Assure the welcome screen is requested</span>
        <span class="n">show_welcome_widget</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">custom_config</span> <span class="o">=</span> <span class="n">get_custom_config</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">custom_config</span><span class="p">,</span> <span class="s2">&quot;WELCOME_PANEL_SHOW&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">custom_config</span><span class="o">.</span><span class="n">WELCOME_PANEL_SHOW</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
                <span class="n">show_welcome_widget</span> <span class="o">=</span> <span class="n">custom_config</span><span class="o">.</span><span class="n">WELCOME_PANEL_SHOW</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;WELCOME_PANEL_SHOW has invalid value in custom_config.py&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">show_welcome_widget</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">actionWelcome</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.addCallbacks"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.addCallbacks">[docs]</a>    <span class="k">def</span> <span class="nf">addCallbacks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method defining all signal connections for the gui manager</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span> <span class="o">=</span> <span class="n">GuiUtils</span><span class="o">.</span><span class="n">Communicate</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">fileDataReceivedSignal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileWasRead</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">statusBarUpdateSignal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">updateStatusBar</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">updatePerspectiveWithDataSignal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">updatePerspective</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">progressBarUpdateSignal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">updateProgressBar</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">perspectiveChangedSignal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">perspectiveChanged</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">updateTheoryFromPerspectiveSignal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">updateTheoryFromPerspective</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">deleteIntermediateTheoryPlotsSignal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deleteIntermediateTheoryPlotsByModelID</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">plotRequestedSignal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">showPlot</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">plotFromNameSignal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">showPlotFromName</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">updateModelFromDataOperationPanelSignal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">updateModelFromDataOperationPanel</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">activeGraphsSignal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">updatePlotItems</span><span class="p">)</span></div>


<div class="viewcode-block" id="GuiManager.addTriggers"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.addTriggers">[docs]</a>    <span class="k">def</span> <span class="nf">addTriggers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Trigger definitions for all menu/toolbar actions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># disable not yet fully implemented actions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionUndo</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionRedo</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionReset</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionStartup_Settings</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="c1">#self._workspace.actionImage_Viewer.setVisible(False)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionCombine_Batch_Fit</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="c1"># orientation viewer set to invisible SASVIEW-1132</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionOrientation_Viewer</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="c1"># File</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionLoadData</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionLoadData</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionLoad_Data_Folder</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionLoad_Data_Folder</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionOpen_Project</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionOpen_Project</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionOpen_Analysis</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionOpen_Analysis</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionSave</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionSave_Project</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionSave_Analysis</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionSave_Analysis</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionQuit</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionQuit</span><span class="p">)</span>
        <span class="c1"># Edit</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionUndo</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionUndo</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionRedo</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionRedo</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionCopy</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionCopy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionPaste</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionPaste</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionReport</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionReport</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionReset</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionReset</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionExcel</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionExcel</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionLatex</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionLatex</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionSaveParamsAs</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionSaveParamsAs</span><span class="p">)</span>

        <span class="c1"># View</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionShow_Grid_Window</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionShow_Grid_Window</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionHide_Toolbar</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionHide_Toolbar</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionStartup_Settings</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionStartup_Settings</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionCategory_Manager</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionCategory_Manager</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionHide_DataExplorer</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionHide_DataExplorer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionHide_LogExplorer</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionHide_LogExplorer</span><span class="p">)</span>
        <span class="c1"># Tools</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionData_Operation</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionData_Operation</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionSLD_Calculator</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionSLD_Calculator</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionDensity_Volume_Calculator</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionDensity_Volume_Calculator</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionKeissig_Calculator</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionKiessig_Calculator</span><span class="p">)</span>
        <span class="c1">#self._workspace.actionKIESSING_Calculator.triggered.connect(self.actionKIESSING_Calculator)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionSlit_Size_Calculator</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionSlit_Size_Calculator</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionSAS_Resolution_Estimator</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionSAS_Resolution_Estimator</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionGeneric_Scattering_Calculator</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionGeneric_Scattering_Calculator</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionPython_Shell_Editor</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionPython_Shell_Editor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionImage_Viewer</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionImage_Viewer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionFile_Converter</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionFile_Converter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionOrientation_Viewer</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionOrientation_Viewer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionFreeze_Theory</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionFreeze_Theory</span><span class="p">)</span>
        <span class="c1"># Fitting</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionNew_Fit_Page</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionNew_Fit_Page</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionConstrained_Fit</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionConstrained_Fit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionCombine_Batch_Fit</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionCombine_Batch_Fit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionFit_Options</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionFit_Options</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionGPU_Options</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionGPU_Options</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionFit_Results</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionFit_Results</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionAdd_Custom_Model</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionAdd_Custom_Model</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionEdit_Custom_Model</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionEdit_Custom_Model</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionManage_Custom_Models</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionManage_Custom_Models</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionAddMult_Models</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionAddMult_Models</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionEditMask</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionEditMask</span><span class="p">)</span>

        <span class="c1"># Window</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionCascade</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionCascade</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionTile</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionTile</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionArrange_Icons</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionArrange_Icons</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionNext</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionNext</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionPrevious</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionPrevious</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionMinimizePlots</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionMinimizePlots</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionClosePlots</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionClosePlots</span><span class="p">)</span>
        <span class="c1"># Analysis</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionFitting</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionFitting</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionInversion</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionInversion</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionInvariant</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionInvariant</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionCorfunc</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionCorfunc</span><span class="p">)</span>
        <span class="c1"># Help</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionDocumentation</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionDocumentation</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionTutorial</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionTutorial</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionModel_Marketplace</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionMarketplace</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionAcknowledge</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionAcknowledge</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionAbout</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionAbout</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionWelcomeWidget</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionWelcome</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionCheck_for_update</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actionCheck_for_update</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">sendDataToGridSignal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">showBatchOutput</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">resultPlotUpdateSignal</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">showFitResults</span><span class="p">)</span></div>

    <span class="c1">#============ FILE =================</span>
<div class="viewcode-block" id="GuiManager.actionLoadData"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionLoadData">[docs]</a>    <span class="k">def</span> <span class="nf">actionLoadData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Menu File/Load Data File(s)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">loadFile</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionLoad_Data_Folder"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionLoad_Data_Folder">[docs]</a>    <span class="k">def</span> <span class="nf">actionLoad_Data_Folder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Menu File/Load Data Folder</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">loadFolder</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionOpen_Project"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionOpen_Project">[docs]</a>    <span class="k">def</span> <span class="nf">actionOpen_Project</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Menu Open Project</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">loadProject</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionOpen_Analysis"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionOpen_Analysis">[docs]</a>    <span class="k">def</span> <span class="nf">actionOpen_Analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">loadAnalysis</span><span class="p">()</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="GuiManager.actionSave_Project"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionSave_Project">[docs]</a>    <span class="k">def</span> <span class="nf">actionSave_Project</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Menu Save Project</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">saveProject</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">filename</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="c1"># datasets</span>
        <span class="n">all_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">getSerializedData</span><span class="p">()</span>
        <span class="n">final_data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="nb">id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">all_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">final_data</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;fit_data&#39;</span><span class="p">:</span> <span class="n">data</span><span class="p">}</span>

        <span class="c1"># Save from all serializable perspectives</span>
        <span class="c1"># Analysis should return {data-id: serialized-state}</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">per</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">loadedPerspectives</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">per</span><span class="p">,</span> <span class="s1">&#39;isSerializable&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">per</span><span class="o">.</span><span class="n">isSerializable</span><span class="p">():</span>
                <span class="n">analysis</span> <span class="o">=</span> <span class="n">per</span><span class="o">.</span><span class="n">serializeAll</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">analysis</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">final_data</span><span class="p">:</span>
                        <span class="n">final_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="s1">&#39;cs_tab&#39;</span> <span class="ow">in</span> <span class="n">key</span><span class="p">:</span>
                        <span class="n">final_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

        <span class="n">final_data</span><span class="p">[</span><span class="s1">&#39;is_batch&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">analysis</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;is_batch&#39;</span><span class="p">,</span> <span class="s1">&#39;False&#39;</span><span class="p">)</span>
        <span class="n">final_data</span><span class="p">[</span><span class="s1">&#39;batch_grid&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">grid_window</span><span class="o">.</span><span class="n">data_dict</span>
        <span class="n">final_data</span><span class="p">[</span><span class="s1">&#39;visible_perspective&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="o">.</span><span class="n">name</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
            <span class="n">GuiUtils</span><span class="o">.</span><span class="n">saveData</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="n">final_data</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.actionSave_Analysis"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionSave_Analysis">[docs]</a>    <span class="k">def</span> <span class="nf">actionSave_Analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Menu File/Save Analysis</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">per</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perspective</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">per</span><span class="p">,</span> <span class="s1">&#39;isSerializable&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">per</span><span class="o">.</span><span class="n">isSerializable</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="c1"># get fit page serialization</span>
        <span class="n">all_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">getSerializedData</span><span class="p">()</span>
        <span class="n">analysis</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">state</span> <span class="o">=</span> <span class="n">per</span><span class="o">.</span><span class="n">serializeCurrentPage</span><span class="p">()</span>
        <span class="k">for</span> <span class="nb">id</span><span class="p">,</span> <span class="n">params</span> <span class="ow">in</span> <span class="n">state</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">id</span> <span class="ow">in</span> <span class="n">all_data</span><span class="p">:</span>
                <span class="n">analysis</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;fit_data&#39;</span><span class="p">:</span> <span class="n">all_data</span><span class="p">[</span><span class="nb">id</span><span class="p">]}</span>
                <span class="n">analysis</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">analysis</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">tab_id</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">per</span><span class="p">,</span>
                                      <span class="s1">&#39;currentTab&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="n">per</span><span class="o">.</span><span class="n">currentTab</span><span class="o">.</span><span class="n">tab_id</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">saveAnalysis</span><span class="p">(</span><span class="n">analysis</span><span class="p">,</span> <span class="n">tab_id</span><span class="p">,</span> <span class="n">per</span><span class="o">.</span><span class="n">ext</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;No analysis was available to be saved.&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.actionQuit"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionQuit">[docs]</a>    <span class="k">def</span> <span class="nf">actionQuit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Close the reactor, exit the application.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quitApplication</span><span class="p">()</span></div>

    <span class="c1">#============ EDIT =================</span>
<div class="viewcode-block" id="GuiManager.actionUndo"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionUndo">[docs]</a>    <span class="k">def</span> <span class="nf">actionUndo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;actionUndo TRIGGERED&quot;</span><span class="p">)</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="GuiManager.actionRedo"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionRedo">[docs]</a>    <span class="k">def</span> <span class="nf">actionRedo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;actionRedo TRIGGERED&quot;</span><span class="p">)</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="GuiManager.actionCopy"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionCopy">[docs]</a>    <span class="k">def</span> <span class="nf">actionCopy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Send a signal to the fitting perspective so parameters</span>
<span class="sd">        can be saved to the clipboard</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">copyFitParamsSignal</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="c1">#self._workspace.actionPaste.setEnabled(True)</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="GuiManager.actionPaste"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionPaste">[docs]</a>    <span class="k">def</span> <span class="nf">actionPaste</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Send a signal to the fitting perspective so parameters</span>
<span class="sd">        from the clipboard can be used to modify the fit state</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">pasteFitParamsSignal</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionReport"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionReport">[docs]</a>    <span class="k">def</span> <span class="nf">actionReport</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Show the Fit Report dialog.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">report_list</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="p">,</span> <span class="s2">&quot;currentTab&quot;</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">report_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="o">.</span><span class="n">currentTab</span><span class="o">.</span><span class="n">getReport</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Report generation failed with: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">report_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">report_dialog</span> <span class="o">=</span> <span class="n">ReportDialog</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">report_list</span><span class="o">=</span><span class="n">report_list</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">report_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionReset"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionReset">[docs]</a>    <span class="k">def</span> <span class="nf">actionReset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot; *** actionOpen_Analysis logging *******&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;actionReset print TRIGGERED&quot;</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;STDERR - TRIGGERED&quot;</span><span class="p">)</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="GuiManager.actionExcel"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionExcel">[docs]</a>    <span class="k">def</span> <span class="nf">actionExcel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Send a signal to the fitting perspective so parameters</span>
<span class="sd">        can be saved to the clipboard</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">copyExcelFitParamsSignal</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;Excel&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.actionLatex"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionLatex">[docs]</a>    <span class="k">def</span> <span class="nf">actionLatex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Send a signal to the fitting perspective so parameters</span>
<span class="sd">        can be saved to the clipboard</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">copyLatexFitParamsSignal</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;Latex&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.actionSaveParamsAs"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionSaveParamsAs">[docs]</a>    <span class="k">def</span> <span class="nf">actionSaveParamsAs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Menu Save Params</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">SaveFitParamsSignal</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;Save&quot;</span><span class="p">)</span></div>

    <span class="c1">#============ VIEW =================</span>
<div class="viewcode-block" id="GuiManager.actionShow_Grid_Window"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionShow_Grid_Window">[docs]</a>    <span class="k">def</span> <span class="nf">actionShow_Grid_Window</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">showBatchOutput</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.showBatchOutput"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.showBatchOutput">[docs]</a>    <span class="k">def</span> <span class="nf">showBatchOutput</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Display/redisplay the batch fit viewer</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_subwindow</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid_subwindow</span><span class="o">.</span><span class="n">raise_</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">output_data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">grid_window</span><span class="o">.</span><span class="n">addFitResults</span><span class="p">(</span><span class="n">output_data</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.actionHide_Toolbar"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionHide_Toolbar">[docs]</a>    <span class="k">def</span> <span class="nf">actionHide_Toolbar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggle toolbar vsibility</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">toolBar</span><span class="o">.</span><span class="n">isVisible</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionHide_Toolbar</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Show Toolbar&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">toolBar</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionHide_Toolbar</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Hide Toolbar&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">toolBar</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="GuiManager.actionHide_DataExplorer"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionHide_DataExplorer">[docs]</a>    <span class="k">def</span> <span class="nf">actionHide_DataExplorer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggle Data Explorer vsibility</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dockedFilesWidget</span><span class="o">.</span><span class="n">isVisible</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dockedFilesWidget</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dockedFilesWidget</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="GuiManager.actionHide_LogExplorer"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionHide_LogExplorer">[docs]</a>    <span class="k">def</span> <span class="nf">actionHide_LogExplorer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggle Data Explorer vsibility</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">logDockWidget</span><span class="o">.</span><span class="n">isVisible</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logDockWidget</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logDockWidget</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="GuiManager.actionStartup_Settings"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionStartup_Settings">[docs]</a>    <span class="k">def</span> <span class="nf">actionStartup_Settings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;actionStartup_Settings TRIGGERED&quot;</span><span class="p">)</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="GuiManager.actionCategory_Manager"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionCategory_Manager">[docs]</a>    <span class="k">def</span> <span class="nf">actionCategory_Manager</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">categoryManagerWidget</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

    <span class="c1">#============ TOOLS =================</span>
<div class="viewcode-block" id="GuiManager.actionData_Operation"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionData_Operation">[docs]</a>    <span class="k">def</span> <span class="nf">actionData_Operation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span><span class="p">,</span> <span class="n">theory</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">getAllFlatData</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">sendDataToPanelSignal</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">theory</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">DataOperation</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionSLD_Calculator"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionSLD_Calculator">[docs]</a>    <span class="k">def</span> <span class="nf">actionSLD_Calculator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SLDCalculator</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionDensity_Volume_Calculator"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionDensity_Volume_Calculator">[docs]</a>    <span class="k">def</span> <span class="nf">actionDensity_Volume_Calculator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">DVCalculator</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionKiessig_Calculator"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionKiessig_Calculator">[docs]</a>    <span class="k">def</span> <span class="nf">actionKiessig_Calculator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">KIESSIGCalculator</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionSlit_Size_Calculator"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionSlit_Size_Calculator">[docs]</a>    <span class="k">def</span> <span class="nf">actionSlit_Size_Calculator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SlitSizeCalculator</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionSAS_Resolution_Estimator"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionSAS_Resolution_Estimator">[docs]</a>    <span class="k">def</span> <span class="nf">actionSAS_Resolution_Estimator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ResolutionCalculator</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="GuiManager.actionGeneric_Scattering_Calculator"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionGeneric_Scattering_Calculator">[docs]</a>    <span class="k">def</span> <span class="nf">actionGeneric_Scattering_Calculator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">GENSASCalculator</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="GuiManager.actionPython_Shell_Editor"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionPython_Shell_Editor">[docs]</a>    <span class="k">def</span> <span class="nf">actionPython_Shell_Editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Display the Jupyter console as a docked widget.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Import moved here for startup performance reasons</span>
        <span class="kn">from</span> <span class="nn">sas.qtgui.Utilities.IPythonWidget</span> <span class="kn">import</span> <span class="n">IPythonWidget</span>
        <span class="n">terminal</span> <span class="o">=</span> <span class="n">IPythonWidget</span><span class="p">()</span>

        <span class="c1"># Add the console window as another docked widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipDockWidget</span> <span class="o">=</span> <span class="n">QDockWidget</span><span class="p">(</span><span class="s2">&quot;IPython&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipDockWidget</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;IPythonDockWidget&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ipDockWidget</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="n">terminal</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">addDockWidget</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">RightDockWidgetArea</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ipDockWidget</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.actionFreeze_Theory"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionFreeze_Theory">[docs]</a>    <span class="k">def</span> <span class="nf">actionFreeze_Theory</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convert a child index with data into a separate top level dataset</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">freezeCheckedData</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionOrientation_Viewer"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionOrientation_Viewer">[docs]</a>    <span class="k">def</span> <span class="nf">actionOrientation_Viewer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Make sasmodels orientation &amp; jitter viewer available</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">sasmodels.jitter</span> <span class="kn">import</span> <span class="n">run</span> <span class="k">as</span> <span class="n">orientation_run</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">orientation_run</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span></div>

<div class="viewcode-block" id="GuiManager.actionImage_Viewer"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionImage_Viewer">[docs]</a>    <span class="k">def</span> <span class="nf">actionImage_Viewer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">image_viewer</span> <span class="o">=</span> <span class="n">ImageViewer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;darwin&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_viewer</span><span class="o">.</span><span class="n">menubar</span><span class="o">.</span><span class="n">setNativeMenuBar</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">image_viewer</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="GuiManager.actionFile_Converter"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionFile_Converter">[docs]</a>    <span class="k">def</span> <span class="nf">actionFile_Converter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Shows the File Converter widget.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">FileConverter</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span>
            <span class="k">return</span></div>

    <span class="c1">#============ FITTING =================</span>
<div class="viewcode-block" id="GuiManager.actionNew_Fit_Page"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionNew_Fit_Page">[docs]</a>    <span class="k">def</span> <span class="nf">actionNew_Fit_Page</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add a new, empty Fit page in the fitting perspective.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Make sure the perspective is correct</span>
        <span class="n">per</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perspective</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">per</span><span class="p">,</span> <span class="n">FittingWindow</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="n">per</span><span class="o">.</span><span class="n">addFit</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.actionConstrained_Fit"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionConstrained_Fit">[docs]</a>    <span class="k">def</span> <span class="nf">actionConstrained_Fit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add a new Constrained and Simult. Fit page in the fitting perspective.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">per</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perspective</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">per</span><span class="p">,</span> <span class="n">FittingWindow</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="n">per</span><span class="o">.</span><span class="n">addConstraintTab</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionCombine_Batch_Fit"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionCombine_Batch_Fit">[docs]</a>    <span class="k">def</span> <span class="nf">actionCombine_Batch_Fit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;actionCombine_Batch_Fit TRIGGERED&quot;</span><span class="p">)</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="GuiManager.actionFit_Options"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionFit_Options">[docs]</a>    <span class="k">def</span> <span class="nf">actionFit_Options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="p">,</span> <span class="s2">&quot;fit_options_widget&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="o">.</span><span class="n">fit_options_widget</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="GuiManager.actionGPU_Options"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionGPU_Options">[docs]</a>    <span class="k">def</span> <span class="nf">actionGPU_Options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load the OpenCL selection dialog if the fitting perspective is active</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="p">,</span> <span class="s2">&quot;gpu_options_widget&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="o">.</span><span class="n">gpu_options_widget</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="GuiManager.actionFit_Results"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionFit_Results">[docs]</a>    <span class="k">def</span> <span class="nf">actionFit_Results</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">showFitResults</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.showFitResults"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.showFitResults">[docs]</a>    <span class="k">def</span> <span class="nf">showFitResults</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Show bumps convergence plots</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_frame</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">output_data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">results_panel</span><span class="o">.</span><span class="n">onPlotResults</span><span class="p">(</span><span class="n">output_data</span><span class="p">,</span> <span class="n">optimizer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">perspective</span><span class="p">()</span><span class="o">.</span><span class="n">optimizer</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.actionAdd_Custom_Model"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionAdd_Custom_Model">[docs]</a>    <span class="k">def</span> <span class="nf">actionAdd_Custom_Model</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model_editor</span> <span class="o">=</span> <span class="n">TabbedModelEditor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model_editor</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionEdit_Custom_Model"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionEdit_Custom_Model">[docs]</a>    <span class="k">def</span> <span class="nf">actionEdit_Custom_Model</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model_editor</span> <span class="o">=</span> <span class="n">TabbedModelEditor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">edit_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model_editor</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionManage_Custom_Models"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionManage_Custom_Models">[docs]</a>    <span class="k">def</span> <span class="nf">actionManage_Custom_Models</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model_manager</span> <span class="o">=</span> <span class="n">PluginManager</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model_manager</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionAddMult_Models"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionAddMult_Models">[docs]</a>    <span class="k">def</span> <span class="nf">actionAddMult_Models</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Add Simple Add/Multiply Editor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_mult_editor</span> <span class="o">=</span> <span class="n">AddMultEditor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_mult_editor</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionEditMask"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionEditMask">[docs]</a>    <span class="k">def</span> <span class="nf">actionEditMask</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">communicate</span><span class="o">.</span><span class="n">extMaskEditorSignal</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span></div>

    <span class="c1">#============ ANALYSIS =================</span>
<div class="viewcode-block" id="GuiManager.actionFitting"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionFitting">[docs]</a>    <span class="k">def</span> <span class="nf">actionFitting</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change to the Fitting perspective</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">perspectiveChanged</span><span class="p">(</span><span class="s2">&quot;Fitting&quot;</span><span class="p">)</span>
        <span class="c1"># Notify other widgets</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">onAnalysisUpdate</span><span class="p">(</span><span class="s2">&quot;Fitting&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.actionInversion"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionInversion">[docs]</a>    <span class="k">def</span> <span class="nf">actionInversion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change to the Inversion perspective</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">perspectiveChanged</span><span class="p">(</span><span class="s2">&quot;Inversion&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">onAnalysisUpdate</span><span class="p">(</span><span class="s2">&quot;Inversion&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.actionInvariant"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionInvariant">[docs]</a>    <span class="k">def</span> <span class="nf">actionInvariant</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change to the Invariant perspective</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">perspectiveChanged</span><span class="p">(</span><span class="s2">&quot;Invariant&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">onAnalysisUpdate</span><span class="p">(</span><span class="s2">&quot;Invariant&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.actionCorfunc"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionCorfunc">[docs]</a>    <span class="k">def</span> <span class="nf">actionCorfunc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change to the Corfunc perspective</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">perspectiveChanged</span><span class="p">(</span><span class="s2">&quot;Corfunc&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">onAnalysisUpdate</span><span class="p">(</span><span class="s2">&quot;Corfunc&quot;</span><span class="p">)</span></div>

    <span class="c1">#============ WINDOW =================</span>
<div class="viewcode-block" id="GuiManager.actionCascade"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionCascade">[docs]</a>    <span class="k">def</span> <span class="nf">actionCascade</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Arranges all the child windows in a cascade pattern.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">cascadeSubWindows</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionTile"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionTile">[docs]</a>    <span class="k">def</span> <span class="nf">actionTile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Tile workspace windows</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">tileSubWindows</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionArrange_Icons"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionArrange_Icons">[docs]</a>    <span class="k">def</span> <span class="nf">actionArrange_Icons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Arranges all iconified windows at the bottom of the workspace</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">arrangeIcons</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionNext"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionNext">[docs]</a>    <span class="k">def</span> <span class="nf">actionNext</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gives the input focus to the next window in the list of child windows.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">activateNextSubWindow</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionPrevious"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionPrevious">[docs]</a>    <span class="k">def</span> <span class="nf">actionPrevious</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gives the input focus to the previous window in the list of child windows.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">activatePreviousSubWindow</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionClosePlots"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionClosePlots">[docs]</a>    <span class="k">def</span> <span class="nf">actionClosePlots</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Closes all Plotters and Plotter2Ds.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">closeAllPlots</span><span class="p">()</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="GuiManager.actionMinimizePlots"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionMinimizePlots">[docs]</a>    <span class="k">def</span> <span class="nf">actionMinimizePlots</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Minimizes all Plotters and Plotter2Ds.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">minimizeAllPlots</span><span class="p">()</span>
        <span class="k">pass</span></div>

    <span class="c1">#============ HELP =================</span>
<div class="viewcode-block" id="GuiManager.actionDocumentation"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionDocumentation">[docs]</a>    <span class="k">def</span> <span class="nf">actionDocumentation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Display the documentation</span>

<span class="sd">        TODO: use QNetworkAccessManager to assure _helpLocation is valid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">helpfile</span> <span class="o">=</span> <span class="s2">&quot;/index.html&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">showHelp</span><span class="p">(</span><span class="n">helpfile</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.actionTutorial"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionTutorial">[docs]</a>    <span class="k">def</span> <span class="nf">actionTutorial</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Open the page with tutorial PDF links</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">helpfile</span> <span class="o">=</span> <span class="s2">&quot;/user/tutorial.html&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">showHelp</span><span class="p">(</span><span class="n">helpfile</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.actionAcknowledge"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionAcknowledge">[docs]</a>    <span class="k">def</span> <span class="nf">actionAcknowledge</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Open the Acknowledgements widget</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ackWidget</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionMarketplace"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionMarketplace">[docs]</a>    <span class="k">def</span> <span class="nf">actionMarketplace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Open the marketplace link in default browser</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">LocalConfig</span><span class="o">.</span><span class="n">MARKETPLACE_URL</span>
        <span class="n">webbrowser</span><span class="o">.</span><span class="n">open_new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.actionAbout"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionAbout">[docs]</a>    <span class="k">def</span> <span class="nf">actionAbout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Open the About box</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Update the about box with current version and stuff</span>

        <span class="c1"># TODO: proper sizing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">aboutWidget</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.actionCheck_for_update"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.actionCheck_for_update">[docs]</a>    <span class="k">def</span> <span class="nf">actionCheck_for_update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Menu Help/Check for Update</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkUpdate</span><span class="p">()</span></div>

<div class="viewcode-block" id="GuiManager.updateTheoryFromPerspective"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.updateTheoryFromPerspective">[docs]</a>    <span class="k">def</span> <span class="nf">updateTheoryFromPerspective</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Catch the theory update signal from a perspective</span>
<span class="sd">        Send the request to the DataExplorer for updating the theory model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">updateTheoryFromPerspective</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="c1"># Now notify the perspective that the item was/wasn&#39;t replaced</span>
        <span class="n">per</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">perspective</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">per</span><span class="p">,</span> <span class="n">FittingWindow</span><span class="p">):</span>
            <span class="c1"># currently only fitting supports generation of theories.</span>
            <span class="k">return</span>
        <span class="n">per</span><span class="o">.</span><span class="n">currentTab</span><span class="o">.</span><span class="n">setTheoryItem</span><span class="p">(</span><span class="n">item</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.deleteIntermediateTheoryPlotsByModelID"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.deleteIntermediateTheoryPlotsByModelID">[docs]</a>    <span class="k">def</span> <span class="nf">deleteIntermediateTheoryPlotsByModelID</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Catch the signal to delete items in the Theory item model which correspond to a model ID.</span>
<span class="sd">        Send the request to the DataExplorer for updating the theory model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">deleteIntermediateTheoryPlotsByModelID</span><span class="p">(</span><span class="n">model_id</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.updateModelFromDataOperationPanel"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.updateModelFromDataOperationPanel">[docs]</a>    <span class="k">def</span> <span class="nf">updateModelFromDataOperationPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_item</span><span class="p">,</span> <span class="n">new_datalist_item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param new_item: item to be added to list of loaded files</span>
<span class="sd">        :param new_datalist_item:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">new_item</span><span class="p">,</span> <span class="n">QStandardItem</span><span class="p">)</span> <span class="ow">or</span> \
                <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">new_datalist_item</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Wrong data type returned from calculations.&quot;</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">new_item</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data_manager</span><span class="o">.</span><span class="n">add_data</span><span class="p">(</span><span class="n">new_datalist_item</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.showPlotFromName"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.showPlotFromName">[docs]</a>    <span class="k">def</span> <span class="nf">showPlotFromName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Pass the show plot request to the data explorer</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;filesWidget&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">displayDataByName</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">is_data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.showPlot"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.showPlot">[docs]</a>    <span class="k">def</span> <span class="nf">showPlot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plot</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Pass the show plot request to the data explorer</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;filesWidget&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">displayData</span><span class="p">(</span><span class="n">plot</span><span class="p">,</span> <span class="nb">id</span><span class="p">)</span>
            <span class="c1"># update windows menu</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addPlotItemsInWindowsMenu</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.uncheckAllMenuItems"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.uncheckAllMenuItems">[docs]</a>    <span class="k">def</span> <span class="nf">uncheckAllMenuItems</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">menuObject</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Uncheck all options in a given menu</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">menuObjects</span> <span class="o">=</span> <span class="n">menuObject</span><span class="o">.</span><span class="n">actions</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">menuItem</span> <span class="ow">in</span> <span class="n">menuObjects</span><span class="p">:</span>
            <span class="n">menuItem</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.checkAnalysisOption"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.checkAnalysisOption">[docs]</a>    <span class="k">def</span> <span class="nf">checkAnalysisOption</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analysisMenuOption</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unchecks all the items in the analysis menu and checks the item passed</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uncheckAllMenuItems</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menuAnalysis</span><span class="p">)</span>
        <span class="n">analysisMenuOption</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.clearPerspectiveMenubarOptions"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.clearPerspectiveMenubarOptions">[docs]</a>    <span class="k">def</span> <span class="nf">clearPerspectiveMenubarOptions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">perspective</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        When closing a perspective, clears the menu bar</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">menuItem</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menuAnalysis</span><span class="o">.</span><span class="n">actions</span><span class="p">():</span>
            <span class="n">menuItem</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_perspective</span><span class="p">,</span> <span class="n">Perspectives</span><span class="o">.</span><span class="n">PERSPECTIVES</span><span class="p">[</span><span class="s2">&quot;Fitting&quot;</span><span class="p">]):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menubar</span><span class="o">.</span><span class="n">removeAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menuFitting</span><span class="o">.</span><span class="n">menuAction</span><span class="p">())</span></div>

<div class="viewcode-block" id="GuiManager.setupPerspectiveMenubarOptions"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.setupPerspectiveMenubarOptions">[docs]</a>    <span class="k">def</span> <span class="nf">setupPerspectiveMenubarOptions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">perspective</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        When setting a perspective, sets up the menu bar</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionReport</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionOpen_Analysis</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionSave_Analysis</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">perspective</span><span class="p">,</span> <span class="s1">&#39;isSerializable&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">perspective</span><span class="o">.</span><span class="n">isSerializable</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionOpen_Analysis</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionSave_Analysis</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">perspective</span><span class="p">,</span> <span class="n">Perspectives</span><span class="o">.</span><span class="n">PERSPECTIVES</span><span class="p">[</span><span class="s2">&quot;Fitting&quot;</span><span class="p">]):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkAnalysisOption</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionFitting</span><span class="p">)</span>
            <span class="c1"># Put the fitting menu back in</span>
            <span class="c1"># This is a bit involved but it is needed to preserve the menu ordering</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menubar</span><span class="o">.</span><span class="n">removeAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menuWindow</span><span class="o">.</span><span class="n">menuAction</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menubar</span><span class="o">.</span><span class="n">removeAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menuHelp</span><span class="o">.</span><span class="n">menuAction</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menubar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menuFitting</span><span class="o">.</span><span class="n">menuAction</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menubar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menuWindow</span><span class="o">.</span><span class="n">menuAction</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menubar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">menuHelp</span><span class="o">.</span><span class="n">menuAction</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionReport</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">perspective</span><span class="p">,</span> <span class="n">Perspectives</span><span class="o">.</span><span class="n">PERSPECTIVES</span><span class="p">[</span><span class="s2">&quot;Invariant&quot;</span><span class="p">]):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkAnalysisOption</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionInvariant</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">perspective</span><span class="p">,</span> <span class="n">Perspectives</span><span class="o">.</span><span class="n">PERSPECTIVES</span><span class="p">[</span><span class="s2">&quot;Inversion&quot;</span><span class="p">]):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkAnalysisOption</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionInversion</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">perspective</span><span class="p">,</span> <span class="n">Perspectives</span><span class="o">.</span><span class="n">PERSPECTIVES</span><span class="p">[</span><span class="s2">&quot;Corfunc&quot;</span><span class="p">]):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkAnalysisOption</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_workspace</span><span class="o">.</span><span class="n">actionCorfunc</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.saveCustomConfig"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.saveCustomConfig">[docs]</a>    <span class="k">def</span> <span class="nf">saveCustomConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save the config file based on current session values</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Load the current file</span>
        <span class="n">config_content</span> <span class="o">=</span> <span class="n">GuiUtils</span><span class="o">.</span><span class="n">custom_config</span>

        <span class="n">changed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">customSavePaths</span><span class="p">(</span><span class="n">config_content</span><span class="p">)</span>
        <span class="n">changed</span> <span class="o">=</span> <span class="n">changed</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">customSaveOpenCL</span><span class="p">(</span><span class="n">config_content</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">changed</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">writeCustomConfig</span><span class="p">(</span><span class="n">config_content</span><span class="p">)</span></div>

<div class="viewcode-block" id="GuiManager.customSavePaths"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.customSavePaths">[docs]</a>    <span class="k">def</span> <span class="nf">customSavePaths</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_content</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update the config module with current session paths</span>
<span class="sd">        Returns True if update was done, False, otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">changed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># Find load path</span>
        <span class="n">open_path</span> <span class="o">=</span> <span class="n">GuiUtils</span><span class="o">.</span><span class="n">DEFAULT_OPEN_FOLDER</span>
        <span class="n">defined_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesWidget</span><span class="o">.</span><span class="n">default_load_location</span>
        <span class="k">if</span> <span class="n">open_path</span> <span class="o">!=</span> <span class="n">defined_path</span><span class="p">:</span>
            <span class="c1"># Replace the load path</span>
            <span class="n">config_content</span><span class="o">.</span><span class="n">DEFAULT_OPEN_FOLDER</span> <span class="o">=</span> <span class="n">defined_path</span>
            <span class="n">changed</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">changed</span></div>

<div class="viewcode-block" id="GuiManager.customSaveOpenCL"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.customSaveOpenCL">[docs]</a>    <span class="k">def</span> <span class="nf">customSaveOpenCL</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_content</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update the config module with current session OpenCL choice</span>
<span class="sd">        Returns True if update was done, False, otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">changed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># Find load path</span>
        <span class="n">file_value</span> <span class="o">=</span> <span class="n">GuiUtils</span><span class="o">.</span><span class="n">SAS_OPENCL</span>
        <span class="n">session_value</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;SAS_OPENCL&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">file_value</span> <span class="o">!=</span> <span class="n">session_value</span><span class="p">:</span>
            <span class="c1"># Replace the load path</span>
            <span class="n">config_content</span><span class="o">.</span><span class="n">SAS_OPENCL</span> <span class="o">=</span> <span class="n">session_value</span>
            <span class="n">changed</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">changed</span></div>

<div class="viewcode-block" id="GuiManager.writeCustomConfig"><a class="viewcode-back" href="../../../../dev/sasview-api/sas.qtgui.MainWindow.html#sas.qtgui.MainWindow.GuiManager.GuiManager.writeCustomConfig">[docs]</a>    <span class="k">def</span> <span class="nf">writeCustomConfig</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Write custom configuration</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">sas</span> <span class="kn">import</span> <span class="n">make_custom_config_path</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">make_custom_config_path</span><span class="p">()</span>
        <span class="c1"># Just clobber the file - we already have its content read in</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">out_f</span><span class="p">:</span>
            <span class="n">out_f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;#Application appearance custom configuration</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">key</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;__&quot;</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">item</span> <span class="o">=</span> <span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="n">item</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span>
                <span class="n">out_f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> = </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)))</span>
        <span class="k">pass</span> <span class="c1"># debugger anchor</span></div></div>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../index.html">SasView 5.0.5 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../index.html" >Module code</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../../sas.html" >sas</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">sas.qtgui.MainWindow.GuiManager</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, The SasView Project.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.0.0.
    </div>
  </body>
</html>