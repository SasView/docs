<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>sas.fit package &mdash; SasView 3.0.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="SasView 3.0.0 documentation" href="../../index.html" />
    <link rel="up" title="sas package" href="sas.html" />
    <link rel="next" title="sas.guiframe package" href="sas.guiframe.html" />
    <link rel="prev" title="sas.dataloader.readers package" href="sas.dataloader.readers.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="sas.guiframe.html" title="sas.guiframe package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="sas.dataloader.readers.html" title="sas.dataloader.readers package"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">SasView 3.0.0 documentation</a> &raquo;</li>
          <li><a href="../dev.html" >Developer Documentation</a> &raquo;</li>
          <li><a href="modules.html" >lib.macosx-10.5-x86_64-2.7</a> &raquo;</li>
          <li><a href="sas.html" accesskey="U">sas package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="sas-fit-package">
<h1>sas.fit package</h1>
<div class="section" id="submodules">
<h2>Submodules</h2>
</div>
<div class="section" id="module-sas.fit.AbstractFitEngine">
<span id="sas-fit-abstractfitengine-module"></span><h2>sas.fit.AbstractFitEngine module</h2>
<dl class="class">
<dt id="sas.fit.AbstractFitEngine.FResult">
<em class="property">class </em><tt class="descclassname">sas.fit.AbstractFitEngine.</tt><tt class="descname">FResult</tt><big>(</big><em>model=None</em>, <em>param_list=None</em>, <em>data=None</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FResult"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Storing fit result</p>
<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FResult.print_summary">
<tt class="descname">print_summary</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FResult.print_summary"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FResult.set_fitness">
<tt class="descname">set_fitness</tt><big>(</big><em>fitness</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FResult.set_fitness"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FResult.set_model">
<tt class="descname">set_model</tt><big>(</big><em>model</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FResult.set_model"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="sas.fit.AbstractFitEngine.FitAbort">
<em class="property">exception </em><tt class="descclassname">sas.fit.AbstractFitEngine.</tt><tt class="descname">FitAbort</tt><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitAbort"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>Exception raise to stop the fit</p>
</dd></dl>

<dl class="class">
<dt id="sas.fit.AbstractFitEngine.FitArrange">
<em class="property">class </em><tt class="descclassname">sas.fit.AbstractFitEngine.</tt><tt class="descname">FitArrange</tt><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitArrange"><span class="viewcode-link">[source]</span></a></dt>
<dd><dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitArrange.add_data">
<tt class="descname">add_data</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitArrange.add_data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>add_data fill a self.data_list with data to fit</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; Data to add in the list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitArrange.get_data">
<tt class="descname">get_data</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitArrange.get_data"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of data data_list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitArrange.get_model">
<tt class="descname">get_model</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitArrange.get_model"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">saved model</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitArrange.get_to_fit">
<tt class="descname">get_to_fit</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitArrange.get_to_fit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>return self.selected value</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitArrange.remove_data">
<tt class="descname">remove_data</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitArrange.remove_data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Remove one element from the list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; Data to remove from data_list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitArrange.set_model">
<tt class="descname">set_model</tt><big>(</big><em>model</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitArrange.set_model"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>set_model save a copy of the model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>model</strong> &#8211; the model being set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitArrange.set_to_fit">
<tt class="descname">set_to_fit</tt><big>(</big><em>value=0</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitArrange.set_to_fit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>set self.selected to 0 or 1  for other values raise an exception</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> &#8211; integer between 0 or 1</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.AbstractFitEngine.FitData1D">
<em class="property">class </em><tt class="descclassname">sas.fit.AbstractFitEngine.</tt><tt class="descname">FitData1D</tt><big>(</big><em>x</em>, <em>y</em>, <em>dx=None</em>, <em>dy=None</em>, <em>smearer=None</em>, <em>data=None</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitData1D"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="sas.dataloader.html#sas.dataloader.data_info.Data1D" title="sas.dataloader.data_info.Data1D"><tt class="xref py py-class docutils literal"><span class="pre">sas.dataloader.data_info.Data1D</span></tt></a></p>
<p>Wrapper class  for SAS data
FitData1D inherits from DataLoader.data_info.Data1D. Implements
a way to get residuals from data.</p>
<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitData1D.get_fit_range">
<tt class="descname">get_fit_range</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitData1D.get_fit_range"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return the range of data.x to fit</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitData1D.residuals">
<tt class="descname">residuals</tt><big>(</big><em>fn</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitData1D.residuals"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Compute residuals.</p>
<p>If self.smearer has been set, use if to smear
the data before computing chi squared.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fn</strong> &#8211; function that return model value</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">residuals</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitData1D.residuals_deriv">
<tt class="descname">residuals_deriv</tt><big>(</big><em>model</em>, <em>pars=[]</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitData1D.residuals_deriv"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">residuals derivatives .</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body">in this case just return empty array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitData1D.set_fit_range">
<tt class="descname">set_fit_range</tt><big>(</big><em>qmin=None</em>, <em>qmax=None</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitData1D.set_fit_range"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>to set the fit range</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitData1D.size">
<tt class="descname">size</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitData1D.size"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Number of measurement points in data set after masking, etc.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.AbstractFitEngine.FitData2D">
<em class="property">class </em><tt class="descclassname">sas.fit.AbstractFitEngine.</tt><tt class="descname">FitData2D</tt><big>(</big><em>sas_data2d</em>, <em>data=None</em>, <em>err_data=None</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitData2D"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="sas.dataloader.html#sas.dataloader.data_info.Data2D" title="sas.dataloader.data_info.Data2D"><tt class="xref py py-class docutils literal"><span class="pre">sas.dataloader.data_info.Data2D</span></tt></a></p>
<p>Wrapper class  for SAS data</p>
<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitData2D.get_fit_range">
<tt class="descname">get_fit_range</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitData2D.get_fit_range"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>return the range of data.x to fit</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitData2D.residuals">
<tt class="descname">residuals</tt><big>(</big><em>fn</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitData2D.residuals"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>return the residuals</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitData2D.residuals_deriv">
<tt class="descname">residuals_deriv</tt><big>(</big><em>model</em>, <em>pars=[]</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitData2D.residuals_deriv"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">residuals derivatives .</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body">in this case just return empty array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitData2D.set_data">
<tt class="descname">set_data</tt><big>(</big><em>sas_data2d</em>, <em>qmin=None</em>, <em>qmax=None</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitData2D.set_data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Determine the correct qx_data and qy_data within range to fit</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitData2D.set_fit_range">
<tt class="descname">set_fit_range</tt><big>(</big><em>qmin=None</em>, <em>qmax=None</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitData2D.set_fit_range"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>To set the fit range</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitData2D.set_smearer">
<tt class="descname">set_smearer</tt><big>(</big><em>smearer</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitData2D.set_smearer"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set smearer</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitData2D.size">
<tt class="descname">size</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitData2D.size"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Number of measurement points in data set after masking, etc.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.AbstractFitEngine.FitEngine">
<em class="property">class </em><tt class="descclassname">sas.fit.AbstractFitEngine.</tt><tt class="descname">FitEngine</tt><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitEngine"><span class="viewcode-link">[source]</span></a></dt>
<dd><dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitEngine.get_model">
<tt class="descname">get_model</tt><big>(</big><em>id</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitEngine.get_model"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> &#8211; id is key in the dictionary containing the model to return</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a model at this id or None if no FitArrange element was
created with this id</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitEngine.get_problem_to_fit">
<tt class="descname">get_problem_to_fit</tt><big>(</big><em>id</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitEngine.get_problem_to_fit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>return the self.selected value of the fit problem of id</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> &#8211; the id of the problem</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitEngine.remove_fit_problem">
<tt class="descname">remove_fit_problem</tt><big>(</big><em>id</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitEngine.remove_fit_problem"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>remove   fitarrange in id</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitEngine.select_problem_for_fit">
<tt class="descname">select_problem_for_fit</tt><big>(</big><em>id</em>, <em>value</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitEngine.select_problem_for_fit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>select a couple of model and data at the id position in dictionary
and set in self.selected value to value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> &#8211; the value to allow fitting.
can only have the value one or zero</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitEngine.set_data">
<tt class="descname">set_data</tt><big>(</big><em>data</em>, <em>id</em>, <em>smearer=None</em>, <em>qmin=None</em>, <em>qmax=None</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitEngine.set_data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Receives plottable, creates a list of data to fit,set data
in a FitArrange object and adds that object in a dictionary
with key id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> &#8211; data added</li>
<li><strong>id</strong> &#8211; unique key corresponding to a fitArrange object with data</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitEngine.set_model">
<tt class="descname">set_model</tt><big>(</big><em>model</em>, <em>id</em>, <em>pars=[]</em>, <em>constraints=[]</em>, <em>data=None</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitEngine.set_model"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>set a model on a given  in the fit engine.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>model</strong> &#8211; sas.models type</li>
<li><strong>id</strong> &#8211; is the key of the fitArrange dictionary where model is saved as a value</li>
<li><strong>pars</strong> &#8211; the list of parameters to fit</li>
<li><strong>constraints</strong> &#8211; list of 
tuple (name of parameter, value of parameters)
the value of parameter must be a string to constraint 2 different
parameters.
Example:  
we want to fit 2 model M1 and M2 both have parameters A and B.
constraints can be <tt class="docutils literal"><span class="pre">constraints</span> <span class="pre">=</span> <span class="pre">[(M1.A,</span> <span class="pre">M2.B+2),</span> <span class="pre">(M1.B=</span> <span class="pre">M2.A</span> <span class="pre">*5),...,]</span></tt></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body"><p class="first last">pars must contains only name of existing model&#8217;s parameters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.AbstractFitEngine.FitHandler">
<em class="property">class </em><tt class="descclassname">sas.fit.AbstractFitEngine.</tt><tt class="descname">FitHandler</tt><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitHandler"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Abstract interface for fit thread handler.</p>
<p>The methods in this class are called by the optimizer as the fit
progresses.</p>
<p>Note that it is up to the optimizer to call the fit handler correctly,
reporting all status changes and maintaining the &#8216;done&#8217; flag.</p>
<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitHandler.abort">
<tt class="descname">abort</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitHandler.abort"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Fit was aborted.</p>
</dd></dl>

<dl class="attribute">
<dt id="sas.fit.AbstractFitEngine.FitHandler.done">
<tt class="descname">done</tt><em class="property"> = False</em></dt>
<dd><p>True when the fit job is complete</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitHandler.error">
<tt class="descname">error</tt><big>(</big><em>msg</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitHandler.error"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Model had an error; print traceback</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitHandler.finalize">
<tt class="descname">finalize</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitHandler.finalize"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Fit is complete; best results are reported</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitHandler.improvement">
<tt class="descname">improvement</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitHandler.improvement"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Called when a result is observed which is better than previous
results from the fit.</p>
<p>result is a FitResult object, with parameters, #calls and fitness.</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitHandler.progress">
<tt class="descname">progress</tt><big>(</big><em>current</em>, <em>expected</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitHandler.progress"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Called each cycle of the fit, reporting the current and the
expected amount of work.   The meaning of these values is
optimizer dependent, but they can be converted into a percent
complete using (100*current)//expected.</p>
<p>Progress is updated each iteration of the fit, whatever that
means for the particular optimization algorithm.  It is called
after any calls to improvement for the iteration so that the
update handler can control I/O bandwidth by suppressing
intermediate improvements until the fit is complete.</p>
</dd></dl>

<dl class="attribute">
<dt id="sas.fit.AbstractFitEngine.FitHandler.result">
<tt class="descname">result</tt><em class="property"> = None</em></dt>
<dd><p>The current best result of the fit</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitHandler.set_result">
<tt class="descname">set_result</tt><big>(</big><em>result=None</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitHandler.set_result"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.FitHandler.update_fit">
<tt class="descname">update_fit</tt><big>(</big><em>last=False</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#FitHandler.update_fit"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.AbstractFitEngine.Model">
<em class="property">class </em><tt class="descclassname">sas.fit.AbstractFitEngine.</tt><tt class="descname">Model</tt><big>(</big><em>sas_model</em>, <em>sas_data=None</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#Model"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Fit wrapper for SAS models.</p>
<dl class="method">
<dt id="sas.fit.AbstractFitEngine.Model.eval">
<tt class="descname">eval</tt><big>(</big><em>x</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#Model.eval"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Override eval method of park model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong> &#8211; the x value used to compute a function</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.Model.eval_derivs">
<tt class="descname">eval_derivs</tt><big>(</big><em>x</em>, <em>pars=[]</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#Model.eval_derivs"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Evaluate the model and derivatives wrt pars at x.</p>
<p>pars is a list of the names of the parameters for which derivatives
are desired.</p>
<p>This method needs to be specialized in the model to evaluate the
model function.  Alternatively, the model can implement is own
version of residuals which calculates the residuals directly
instead of calling eval.</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.Model.get_params">
<tt class="descname">get_params</tt><big>(</big><em>fitparams</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#Model.get_params"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>return a list of value of paramter to fit</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fitparams</strong> &#8211; list of paramaters name to fit</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.Model.set">
<tt class="descname">set</tt><big>(</big><em>**kw</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#Model.set"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sas.fit.AbstractFitEngine.Model.set_params">
<tt class="descname">set_params</tt><big>(</big><em>paramlist</em>, <em>params</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/AbstractFitEngine.html#Model.set_params"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set value for parameters to fit</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> &#8211; list of value for parameters to fit</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sas.fit.BumpsFitting">
<span id="sas-fit-bumpsfitting-module"></span><h2>sas.fit.BumpsFitting module</h2>
<p>BumpsFitting module runs the bumps optimizer.</p>
<dl class="class">
<dt id="sas.fit.BumpsFitting.BumpsFit">
<em class="property">class </em><tt class="descclassname">sas.fit.BumpsFitting.</tt><tt class="descname">BumpsFit</tt><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#BumpsFit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sas.fit.AbstractFitEngine.FitEngine" title="sas.fit.AbstractFitEngine.FitEngine"><tt class="xref py py-class docutils literal"><span class="pre">sas.fit.AbstractFitEngine.FitEngine</span></tt></a></p>
<p>Fit a model using bumps.</p>
<dl class="method">
<dt id="sas.fit.BumpsFitting.BumpsFit.fit">
<tt class="descname">fit</tt><big>(</big><em>msg_q=None</em>, <em>q=None</em>, <em>handler=None</em>, <em>curr_thread=None</em>, <em>ftol=1.49012e-08</em>, <em>reset_flag=False</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#BumpsFit.fit"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.BumpsFitting.BumpsMonitor">
<em class="property">class </em><tt class="descclassname">sas.fit.BumpsFitting.</tt><tt class="descname">BumpsMonitor</tt><big>(</big><em>handler</em>, <em>max_step</em>, <em>pars</em>, <em>dof</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#BumpsMonitor"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="sas.fit.BumpsFitting.BumpsMonitor.config_history">
<tt class="descname">config_history</tt><big>(</big><em>history</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#BumpsMonitor.config_history"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.BumpsFitting.ConvergenceMonitor">
<em class="property">class </em><tt class="descclassname">sas.fit.BumpsFitting.</tt><tt class="descname">ConvergenceMonitor</tt><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#ConvergenceMonitor"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>ConvergenceMonitor contains population summary statistics to show progress
of the fit.  This is a list [ (best, 0%, 25%, 50%, 75%, 100%) ] or
just a list [ (best, ) ] if population size is 1.</p>
<dl class="method">
<dt id="sas.fit.BumpsFitting.ConvergenceMonitor.config_history">
<tt class="descname">config_history</tt><big>(</big><em>history</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#ConvergenceMonitor.config_history"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.BumpsFitting.ParameterExpressions">
<em class="property">class </em><tt class="descclassname">sas.fit.BumpsFitting.</tt><tt class="descname">ParameterExpressions</tt><big>(</big><em>models</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#ParameterExpressions"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
</dd></dl>

<dl class="class">
<dt id="sas.fit.BumpsFitting.Progress">
<em class="property">class </em><tt class="descclassname">sas.fit.BumpsFitting.</tt><tt class="descname">Progress</tt><big>(</big><em>history</em>, <em>max_step</em>, <em>pars</em>, <em>dof</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#Progress"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
</dd></dl>

<dl class="class">
<dt id="sas.fit.BumpsFitting.SasFitness">
<em class="property">class </em><tt class="descclassname">sas.fit.BumpsFitting.</tt><tt class="descname">SasFitness</tt><big>(</big><em>model</em>, <em>data</em>, <em>fitted=[]</em>, <em>constraints={}</em>, <em>initial_values=None</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#SasFitness"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Wrap SAS model as a bumps fitness object</p>
<dl class="method">
<dt id="sas.fit.BumpsFitting.SasFitness.nllf">
<tt class="descname">nllf</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#SasFitness.nllf"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sas.fit.BumpsFitting.SasFitness.numpoints">
<tt class="descname">numpoints</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#SasFitness.numpoints"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sas.fit.BumpsFitting.SasFitness.parameters">
<tt class="descname">parameters</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#SasFitness.parameters"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sas.fit.BumpsFitting.SasFitness.residuals">
<tt class="descname">residuals</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#SasFitness.residuals"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sas.fit.BumpsFitting.SasFitness.set_fitted">
<tt class="descname">set_fitted</tt><big>(</big><em>param_list</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#SasFitness.set_fitted"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Flag a set of parameters as fitted parameters.</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.BumpsFitting.SasFitness.theory">
<tt class="descname">theory</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#SasFitness.theory"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sas.fit.BumpsFitting.SasFitness.update">
<tt class="descname">update</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#SasFitness.update"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="sas.fit.BumpsFitting.run_bumps">
<tt class="descclassname">sas.fit.BumpsFitting.</tt><tt class="descname">run_bumps</tt><big>(</big><em>problem</em>, <em>handler</em>, <em>curr_thread</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/BumpsFitting.html#run_bumps"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-sas.fit.Fitting">
<span id="sas-fit-fitting-module"></span><h2>sas.fit.Fitting module</h2>
<p>Class Fit contains ScipyFit and ParkFit methods declaration
allows to create instance of type ScipyFit or ParkFit to perform either
a park fit or a scipy fit.</p>
<dl class="class">
<dt id="sas.fit.Fitting.Fit">
<em class="property">class </em><tt class="descclassname">sas.fit.Fitting.</tt><tt class="descname">Fit</tt><big>(</big><em>engine='scipy'</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/Fitting.html#Fit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Wrap class that allows to select the fitting type.this class 
can be used as follow :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sas.fit.Fitting</span> <span class="kn">import</span> <span class="n">Fit</span>
<span class="n">fitter</span><span class="o">=</span> <span class="n">Fit</span><span class="p">()</span>
<span class="n">fitter</span><span class="o">.</span><span class="n">fit_engine</span><span class="p">(</span><span class="s">&#39;scipy&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">fitter</span><span class="o">.</span><span class="n">fit_engine</span><span class="p">(</span><span class="s">&#39;park&#39;</span><span class="p">)</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">fitter</span><span class="o">.</span><span class="n">returnEngine</span><span class="p">()</span>
<span class="n">engine</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="nb">id</span><span class="p">)</span>
<span class="n">engine</span><span class="o">.</span><span class="n">set_param</span><span class="p">(</span> <span class="n">model</span><span class="p">,</span><span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">pars</span><span class="p">)</span>
<span class="n">engine</span><span class="o">.</span><span class="n">set_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span><span class="nb">id</span><span class="p">)</span>

<span class="n">chisqr1</span><span class="p">,</span> <span class="n">out1</span><span class="p">,</span> <span class="n">cov1</span><span class="o">=</span><span class="n">engine</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">pars</span><span class="p">,</span><span class="n">qmin</span><span class="p">,</span><span class="n">qmax</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="sas.fit.Fitting.Fit.fit">
<tt class="descname">fit</tt><big>(</big><em>msg_q=None</em>, <em>q=None</em>, <em>handler=None</em>, <em>curr_thread=None</em>, <em>ftol=1.49012e-08</em>, <em>reset_flag=False</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/Fitting.html#Fit.fit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Perform the fit</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.Fitting.Fit.get_model">
<tt class="descname">get_model</tt><big>(</big><em>id</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/Fitting.html#Fit.get_model"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>return list of data</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.Fitting.Fit.get_problem_to_fit">
<tt class="descname">get_problem_to_fit</tt><big>(</big><em>id</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/Fitting.html#Fit.get_problem_to_fit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>return the self.selected value of the fit problem of id</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> &#8211; the id of the problem</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.Fitting.Fit.remove_fit_problem">
<tt class="descname">remove_fit_problem</tt><big>(</big><em>id</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/Fitting.html#Fit.remove_fit_problem"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>remove fitarrange in id</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.Fitting.Fit.select_problem_for_fit">
<tt class="descname">select_problem_for_fit</tt><big>(</big><em>id</em>, <em>value</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/Fitting.html#Fit.select_problem_for_fit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>select a couple of model and data at the id position in dictionary
and set in self.selected value to value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> &#8211; the value to allow fitting.
can only have the value one or zero</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.Fitting.Fit.set_data">
<tt class="descname">set_data</tt><big>(</big><em>data</em>, <em>id</em>, <em>smearer=None</em>, <em>qmin=None</em>, <em>qmax=None</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/Fitting.html#Fit.set_data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store data to fit at the psotion id of the fit engine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> &#8211; data to fit</li>
<li><strong>smearer</strong> &#8211; smearerobject to smear data</li>
<li><strong>qmin</strong> &#8211; the minimum q range to fit</li>
<li><strong>qmax</strong> &#8211; the minimum q range to fit</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.Fitting.Fit.set_engine">
<tt class="descname">set_engine</tt><big>(</big><em>word</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/Fitting.html#Fit.set_engine"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Select the type of Fit</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>word</strong> &#8211; the keyword to select the fit type</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body">if the user does not enter &#8216;scipy&#8217; or &#8216;park&#8217;,
a valueError is raised</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.Fitting.Fit.set_model">
<tt class="descname">set_model</tt><big>(</big><em>model</em>, <em>id</em>, <em>pars=[]</em>, <em>constraints=[]</em>, <em>data=None</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/Fitting.html#Fit.set_model"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>store a model model to fit at the position id of the fit engine</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sas.fit.Loader">
<span id="sas-fit-loader-module"></span><h2>sas.fit.Loader module</h2>
<dl class="class">
<dt id="sas.fit.Loader.Load">
<em class="property">class </em><tt class="descclassname">sas.fit.Loader.</tt><tt class="descname">Load</tt><big>(</big><em>x=None</em>, <em>y=None</em>, <em>dx=None</em>, <em>dy=None</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/Loader.html#Load"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This class is loading values from given file or value giving by the user</p>
<dl class="method">
<dt id="sas.fit.Loader.Load.get_filename">
<tt class="descname">get_filename</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/Loader.html#Load.get_filename"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>return the file&#8217;s path</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.Loader.Load.get_values">
<tt class="descname">get_values</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/Loader.html#Load.get_values"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return x, y, dx, dy</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.Loader.Load.load_data">
<tt class="descname">load_data</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/Loader.html#Load.load_data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return plottable</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.Loader.Load.set_filename">
<tt class="descname">set_filename</tt><big>(</big><em>path=None</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/Loader.html#Load.set_filename"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store path into a variable.If the user doesn&#8217;t give 
a path as a parameter a pop-up
window appears to select the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> &#8211; the path given by the user</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.Loader.Load.set_values">
<tt class="descname">set_values</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/Loader.html#Load.set_values"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Store the values loaded from file in local variables</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sas.fit.ParkFitting">
<span id="sas-fit-parkfitting-module"></span><h2>sas.fit.ParkFitting module</h2>
<p>ParkFitting module contains SasParameter,Model,Data
FitArrange, ParkFit,Parameter classes.All listed classes work together
to perform a simple fit with park optimizer.</p>
<dl class="class">
<dt id="sas.fit.ParkFitting.MyAssembly">
<em class="property">class </em><tt class="descclassname">sas.fit.ParkFitting.</tt><tt class="descname">MyAssembly</tt><big>(</big><em>models</em>, <em>curr_thread=None</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#MyAssembly"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="park.html#park.assembly.Assembly" title="park.assembly.Assembly"><tt class="xref py py-class docutils literal"><span class="pre">park.assembly.Assembly</span></tt></a></p>
<dl class="method">
<dt id="sas.fit.ParkFitting.MyAssembly.eval">
<tt class="descname">eval</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#MyAssembly.eval"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Recalculate the theory functions, and from them, the
residuals and chisq.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body">Call this after the parameters have been updated.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.ParkFitting.MyAssembly.extend_results_with_calculated_parameters">
<tt class="descname">extend_results_with_calculated_parameters</tt><big>(</big><em>result</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#MyAssembly.extend_results_with_calculated_parameters"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Extend result from the fit with the calculated parameters.</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.ParkFitting.MyAssembly.fit_parameters">
<tt class="descname">fit_parameters</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#MyAssembly.fit_parameters"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return an alphabetical list of the fitting parameters.</p>
<p>This function is called once at the beginning of a fit,
and serves as a convenient place to precalculate what
can be precalculated such as the set of fitting parameters
and the parameter expressions evaluator.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.ParkFitting.ParkFit">
<em class="property">class </em><tt class="descclassname">sas.fit.ParkFitting.</tt><tt class="descname">ParkFit</tt><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#ParkFit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sas.fit.AbstractFitEngine.FitEngine" title="sas.fit.AbstractFitEngine.FitEngine"><tt class="xref py py-class docutils literal"><span class="pre">sas.fit.AbstractFitEngine.FitEngine</span></tt></a></p>
<p>ParkFit performs the Fit.This class can be used as follow:
#Do the fit Park
create an engine: engine = ParkFit()
Use data must be of type plottable
Use a sas model</p>
<p>Add data with a dictionnary of FitArrangeList where Uid is a key and data
is saved in FitArrange object.
engine.set_data(data,Uid)</p>
<p>Set model parameter &#8220;M1&#8221;= model.name add {model.parameter.name:value}.</p>
<p>..note:</p>
<div class="highlight-python"><div class="highlight"><pre>Set_param() if used must always preceded set_model() for the fit to be performed. ``engine.set_param( model,&quot;M1&quot;, {&#39;A&#39;:2,&#39;B&#39;:4})``
</pre></div>
</div>
<p>Add model with a dictionnary of FitArrangeList{} where Uid is a key
and model
is save in FitArrange object.
engine.set_model(model,Uid)</p>
<p>engine.fit return chisqr,[model.parameter 1,2,..],[[err1....][..err2...]]
chisqr1, out1, cov1=engine.fit({model.parameter.name:value},qmin,qmax)</p>
<p>..note:</p>
<div class="highlight-python"><div class="highlight"><pre>{model.parameter.name:value} is ignored in fit function since 
the user should make sure to call set_param himself.
</pre></div>
</div>
<dl class="method">
<dt id="sas.fit.ParkFitting.ParkFit.create_assembly">
<tt class="descname">create_assembly</tt><big>(</big><em>curr_thread</em>, <em>reset_flag=False</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#ParkFit.create_assembly"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Extract sasmodel and sasdata from 
self.FitArrangelist ={Uid:FitArrange}
Create parkmodel and park data ,form a list couple of parkmodel 
and parkdata
create an assembly self.problem=  park.Assembly([(parkmodel,parkdata)])</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.ParkFitting.ParkFit.fit">
<tt class="descname">fit</tt><big>(</big><em>msg_q=None</em>, <em>q=None</em>, <em>handler=None</em>, <em>curr_thread=None</em>, <em>ftol=1.49012e-08</em>, <em>reset_flag=False</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#ParkFit.fit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Performs fit with park.fit module.It can  perform fit with one model
and a set of data, more than two fit of  one model and sets of data or 
fit with more than two model associated with their set of data and 
constraints</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pars</strong> &#8211; Dictionary of parameter names for the model and their 
values.</li>
<li><strong>qmin</strong> &#8211; The minimum value of data&#8217;s range to be fit</li>
<li><strong>qmax</strong> &#8211; The maximum value of data&#8217;s range to be fit</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body"><p class="first">all parameter are ignored most of the time.Are just there 
to keep ScipyFit and ParkFit interface the same.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">result.fitness Value of the goodness of fit metric</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">result.pvec list of parameter with the best value 
found during fitting</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">result.cov Covariance matrix</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.ParkFitting.ParkModel">
<em class="property">class </em><tt class="descclassname">sas.fit.ParkFitting.</tt><tt class="descname">ParkModel</tt><big>(</big><em>sas_model</em>, <em>sas_data=None</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#ParkModel"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="park.html#park.model.Model" title="park.model.Model"><tt class="xref py py-class docutils literal"><span class="pre">park.model.Model</span></tt></a></p>
<p>PARK wrapper for SAS models.</p>
<dl class="method">
<dt id="sas.fit.ParkFitting.ParkModel.eval">
<tt class="descname">eval</tt><big>(</big><em>x</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#ParkModel.eval"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Override eval method of park model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong> &#8211; the x value used to compute a function</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sas.fit.ParkFitting.ParkModel.eval_derivs">
<tt class="descname">eval_derivs</tt><big>(</big><em>x</em>, <em>pars=[]</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#ParkModel.eval_derivs"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Evaluate the model and derivatives wrt pars at x.</p>
<p>pars is a list of the names of the parameters for which derivatives
are desired.</p>
<p>This method needs to be specialized in the model to evaluate the
model function.  Alternatively, the model can implement is own
version of residuals which calculates the residuals directly
instead of calling eval.</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.ParkFitting.ParkModel.get_params">
<tt class="descname">get_params</tt><big>(</big><em>fitparams</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#ParkModel.get_params"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>return a list of value of paramter to fit</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fitparams</strong> &#8211; list of paramaters name to fit</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sas.fit.ParkFitting.ParkModel.parameters">
<tt class="descname">parameters</tt><em class="property"> = []</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sas.fit.ParkFitting.ParkModel.parameterset">
<tt class="descname">parameterset</tt><em class="property"> = []</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sas.fit.ParkFitting.ParkModel.set_params">
<tt class="descname">set_params</tt><big>(</big><em>paramlist</em>, <em>params</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#ParkModel.set_params"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set value for parameters to fit</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> &#8211; list of value for parameters to fit</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.ParkFitting.SasFitMC">
<em class="property">class </em><tt class="descclassname">sas.fit.ParkFitting.</tt><tt class="descname">SasFitMC</tt><big>(</big><em>localfit</em>, <em>start_points=10</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#SasFitMC"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sas.fit.ParkFitting.SasFitter" title="sas.fit.ParkFitting.SasFitter"><tt class="xref py py-class docutils literal"><span class="pre">sas.fit.ParkFitting.SasFitter</span></tt></a></p>
<p>Monte Carlo optimizer.</p>
<p>This implements <cite>park.fit.Fitter</cite>.</p>
<dl class="attribute">
<dt id="sas.fit.ParkFitting.SasFitMC.localfit">
<tt class="descname">localfit</tt><em class="property"> = &lt;sas.fit.ParkFitting.SasFitSimplex object at 0x10ab534d0&gt;</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sas.fit.ParkFitting.SasFitMC.start_points">
<tt class="descname">start_points</tt><em class="property"> = 10</em></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.ParkFitting.SasFitParameter">
<em class="property">class </em><tt class="descclassname">sas.fit.ParkFitting.</tt><tt class="descname">SasFitParameter</tt><big>(</big><em>name</em>, <em>range</em>, <em>value</em>, <em>model</em>, <em>data</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#SasFitParameter"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="park.html#park.fitresult.FitParameter" title="park.fitresult.FitParameter"><tt class="xref py py-class docutils literal"><span class="pre">park.fitresult.FitParameter</span></tt></a></p>
<p>Fit result for an individual parameter.</p>
<dl class="method">
<dt id="sas.fit.ParkFitting.SasFitParameter.summarize">
<tt class="descname">summarize</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#SasFitParameter.summarize"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return parameter range string.</p>
<p>E.g.,  &#8221;       Gold .....|.... 5.2043 in [2,7]&#8221;</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.ParkFitting.SasFitResult">
<em class="property">class </em><tt class="descclassname">sas.fit.ParkFitting.</tt><tt class="descname">SasFitResult</tt><big>(</big><em>*args</em>, <em>**kwrds</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#SasFitResult"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="park.html#park.fitresult.FitResult" title="park.fitresult.FitResult"><tt class="xref py py-class docutils literal"><span class="pre">park.fitresult.FitResult</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="sas.fit.ParkFitting.SasFitSimplex">
<em class="property">class </em><tt class="descclassname">sas.fit.ParkFitting.</tt><tt class="descname">SasFitSimplex</tt><big>(</big><em>ftol=5e-05</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#SasFitSimplex"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">park.fitmc.FitSimplex</span></tt></p>
<p>Local minimizer using Nelder-Mead simplex algorithm.</p>
<p>Simplex is robust and derivative free, though not very efficient.</p>
<p>This class wraps the bounds contrained Nelder-Mead simplex
implementation for <cite>park.simplex.simplex</cite>.</p>
<dl class="method">
<dt id="sas.fit.ParkFitting.SasFitSimplex.fit">
<tt class="descname">fit</tt><big>(</big><em>fitness</em>, <em>x0</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#SasFitSimplex.fit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Run the fit</p>
</dd></dl>

<dl class="attribute">
<dt id="sas.fit.ParkFitting.SasFitSimplex.ftol">
<tt class="descname">ftol</tt><em class="property"> = 5e-05</em></dt>
<dd><p>Stop when vertex values are within ftol of each other</p>
</dd></dl>

<dl class="attribute">
<dt id="sas.fit.ParkFitting.SasFitSimplex.maxiter">
<tt class="descname">maxiter</tt><em class="property"> = None</em></dt>
<dd><p>Maximum number of iterations before fit terminates</p>
</dd></dl>

<dl class="attribute">
<dt id="sas.fit.ParkFitting.SasFitSimplex.radius">
<tt class="descname">radius</tt><em class="property"> = 0.05</em></dt>
<dd><p>Size of the initial simplex; this is a portion between 0 and 1</p>
</dd></dl>

<dl class="attribute">
<dt id="sas.fit.ParkFitting.SasFitSimplex.xtol">
<tt class="descname">xtol</tt><em class="property"> = 1</em></dt>
<dd><p>Stop when simplex vertices are within xtol of each other</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.ParkFitting.SasFitter">
<em class="property">class </em><tt class="descclassname">sas.fit.ParkFitting.</tt><tt class="descname">SasFitter</tt><big>(</big><em>**kw</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#SasFitter"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="park.html#park.fit.Fitter" title="park.fit.Fitter"><tt class="xref py py-class docutils literal"><span class="pre">park.fit.Fitter</span></tt></a></p>
<dl class="method">
<dt id="sas.fit.ParkFitting.SasFitter.fit">
<tt class="descname">fit</tt><big>(</big><em>fitness</em>, <em>handler</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#SasFitter.fit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Global optimizer.</p>
<p>This function should return immediately</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.ParkFitting.SasParameter">
<em class="property">class </em><tt class="descclassname">sas.fit.ParkFitting.</tt><tt class="descname">SasParameter</tt><big>(</big><em>name</em>, <em>model</em>, <em>data</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#SasParameter"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="park.html#park.parameter.Parameter" title="park.parameter.Parameter"><tt class="xref py py-class docutils literal"><span class="pre">park.parameter.Parameter</span></tt></a></p>
<p>SAS model parameters for use in the PARK fitting service.
The parameter attribute value is redirected to the underlying
parameter value in the SAS model.</p>
<dl class="method">
<dt id="sas.fit.ParkFitting.SasParameter.get_name">
<tt class="descname">get_name</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#SasParameter.get_name"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="sas.fit.ParkFitting.SasParameter.range">
<tt class="descname">range</tt></dt>
<dd><p>Override _getrange of park parameter
return the range of parameter</p>
</dd></dl>

<dl class="attribute">
<dt id="sas.fit.ParkFitting.SasParameter.value">
<tt class="descname">value</tt></dt>
<dd><p>override the _getvalue of park parameter</p>
<p>:return value the parameter associates with self.name</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.ParkFitting.SasPart">
<em class="property">class </em><tt class="descclassname">sas.fit.ParkFitting.</tt><tt class="descname">SasPart</tt><big>(</big><em>fitness</em>, <em>weight=1.0</em>, <em>isfitted=True</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ParkFitting.html#SasPart"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">park.assembly.Part</span></tt></p>
<p>Part of a fitting assembly.  Part holds the model itself and
associated data.  The part can be initialized with a fitness
object or with a pair (model,data) for the default fitness function.</p>
<dl class="docutils">
<dt>fitness (Fitness)</dt>
<dd>object implementing the <cite>park.assembly.Fitness</cite> interface.  In
particular, fitness should provide a parameterset attribute
containing a ParameterSet and a residuals method returning a vector
of residuals.</dd>
<dt>weight (dimensionless)</dt>
<dd>weight for the model.  See comments in assembly.py for details.</dd>
<dt>isfitted (boolean)</dt>
<dd>True if the model residuals should be included in the fit.
The model parameters may still be used in parameter
expressions, but there will be no comparison to the data.</dd>
<dt>residuals (vector)</dt>
<dd>Residuals for the model if they have been calculated, or None</dd>
<dt>degrees_of_freedom</dt>
<dd>Number of residuals minus number of fitted parameters.
Degrees of freedom for individual models does not make
sense in the presence of expressions combining models,
particularly in the case where a model has many parameters
but no data or many computed parameters.  The degrees of
freedom for the model is set to be at least one.</dd>
<dt>chisq</dt>
<dd><p class="first">sum(residuals**2); use chisq/degrees_of_freedom to
get the reduced chisq value.</p>
<p>Get/set the weight on the given model.</p>
<p class="last">assembly.weight(3) returns the weight on model 3 (0-origin)
assembly.weight(3,0.5) sets the weight on model 3 (0-origin)</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-sas.fit.ScipyFitting">
<span id="sas-fit-scipyfitting-module"></span><h2>sas.fit.ScipyFitting module</h2>
<p>ScipyFitting module contains FitArrange , ScipyFit,
Parameter classes.All listed classes work together to perform a 
simple fit with scipy optimizer.</p>
<dl class="class">
<dt id="sas.fit.ScipyFitting.SasAssembly">
<em class="property">class </em><tt class="descclassname">sas.fit.ScipyFitting.</tt><tt class="descname">SasAssembly</tt><big>(</big><em>paramlist</em>, <em>model=None</em>, <em>data=None</em>, <em>fitresult=None</em>, <em>handler=None</em>, <em>curr_thread=None</em>, <em>msg_q=None</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ScipyFitting.html#SasAssembly"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sas Assembly class a class wrapper to be call in optimizer.leastsq method</p>
<dl class="method">
<dt id="sas.fit.ScipyFitting.SasAssembly.check_param_range">
<tt class="descname">check_param_range</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ScipyFitting.html#SasAssembly.check_param_range"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Check the lower and upper bound of the parameter value
and set res to the inf if the value is outside of the
range
:limitation: the initial values must be within range.</p>
</dd></dl>

<dl class="method">
<dt id="sas.fit.ScipyFitting.SasAssembly.chisq">
<tt class="descname">chisq</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ScipyFitting.html#SasAssembly.chisq"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Calculates chi^2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> &#8211; list of parameter values</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">chi^2</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sas.fit.ScipyFitting.ScipyFit">
<em class="property">class </em><tt class="descclassname">sas.fit.ScipyFitting.</tt><tt class="descname">ScipyFit</tt><a class="reference internal" href="../../_modules/sas/fit/ScipyFitting.html#ScipyFit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sas.fit.AbstractFitEngine.FitEngine" title="sas.fit.AbstractFitEngine.FitEngine"><tt class="xref py py-class docutils literal"><span class="pre">sas.fit.AbstractFitEngine.FitEngine</span></tt></a></p>
<p>ScipyFit performs the Fit.This class can be used as follow:
#Do the fit SCIPY
create an engine: engine = ScipyFit()
Use data must be of type plottable
Use a sas model</p>
<p>Add data with a dictionnary of FitArrangeDict where Uid is a key and data
is saved in FitArrange object.
engine.set_data(data,Uid)</p>
<p>Set model parameter &#8220;M1&#8221;= model.name add {model.parameter.name:value}.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body">Set_param() if used must always preceded set_model()
for the fit to be performed.In case of Scipyfit set_param is called in
fit () automatically.</td>
</tr>
</tbody>
</table>
<p>engine.set_param( model,&#8221;M1&#8221;, {&#8216;A&#8217;:2,&#8217;B&#8217;:4})</p>
<p>Add model with a dictionnary of FitArrangeDict{} where Uid is a key and model
is save in FitArrange object.
engine.set_model(model,Uid)</p>
<p>engine.fit return chisqr,[model.parameter 1,2,..],[[err1....][..err2...]]
chisqr1, out1, cov1=engine.fit({model.parameter.name:value},qmin,qmax)</p>
<dl class="method">
<dt id="sas.fit.ScipyFitting.ScipyFit.fit">
<tt class="descname">fit</tt><big>(</big><em>msg_q=None</em>, <em>q=None</em>, <em>handler=None</em>, <em>curr_thread=None</em>, <em>ftol=1.49012e-08</em>, <em>reset_flag=False</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/ScipyFitting.html#ScipyFit.fit"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sas.fit.expression">
<span id="sas-fit-expression-module"></span><h2>sas.fit.expression module</h2>
<p>Parameter expression evaluator.</p>
<p>For systems in which constraints are expressed as string expressions rather
than python code, <a class="reference internal" href="#sas.fit.expression.compile_constraints" title="sas.fit.expression.compile_constraints"><tt class="xref py py-func docutils literal"><span class="pre">compile_constraints()</span></tt></a> can construct an expression
evaluator that substitutes the computed values of the expressions into the
parameters.</p>
<p>The compiler requires a symbol table, an expression set and a context.
The symbol table maps strings containing fully qualified names such as
&#8216;M1.c[3].full_width&#8217; to parameter objects with a &#8216;value&#8217; property that
can be queried and set.  The expression set maps symbol names from the
symbol table to string expressions.  The context provides additional symbols
for the expressions in addition to the usual mathematical functions and
constants.</p>
<p>The expressions are compiled and interpreted by python, with only minimal
effort to make sure that they don&#8217;t contain bad code.  The resulting
constraints function returns 0 so it can be used directly in a fit problem
definition.</p>
<p>Extracting the symbol table from the model depends on the structure of the
model.  If fitness.parameters() is set correctly, then this should simply
be a matter of walking the parameter data, remembering the path to each
parameter in the symbol table.  For compactness, dictionary elements should
be referenced by .name rather than [&#8220;name&#8221;].  Model name can be used as the
top level.</p>
<p>Getting the parameter expressions applied correctly is challenging.
The following monkey patch works by overriding model_update in FitProblem
so that after setp(p) is called and, the constraints expression can be
applied before telling the underlying fitness function that the model
is out of date:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Override model update so that parameter constraints are applied</span>
<span class="n">problem</span><span class="o">.</span><span class="n">_model_update</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">model_update</span>
<span class="k">def</span> <span class="nf">model_update</span><span class="p">():</span>
    <span class="n">constraints</span><span class="p">()</span>
    <span class="n">problem</span><span class="o">.</span><span class="n">_model_update</span><span class="p">()</span>
<span class="n">problem</span><span class="o">.</span><span class="n">model_update</span> <span class="o">=</span> <span class="n">model_update</span>
</pre></div>
</div>
<p>Ideally, this interface will change</p>
<dl class="function">
<dt id="sas.fit.expression.compile_constraints">
<tt class="descclassname">sas.fit.expression.</tt><tt class="descname">compile_constraints</tt><big>(</big><em>symtab</em>, <em>exprs</em>, <em>context={}</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/expression.html#compile_constraints"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Build and return a function to evaluate all parameter expressions in
the proper order.</p>
<p>Input:</p>
<blockquote>
<div><p><em>symtab</em> is the symbol table for the model: { &#8216;name&#8217;: parameter }</p>
<p><em>exprs</em> is the set of computed symbols: { &#8216;name&#8217;: &#8216;expression&#8217; }</p>
<p><em>context</em> is any additional context needed to evaluate the expression</p>
</div></blockquote>
<p>Return:</p>
<blockquote>
<div>updater function which sets parameter.value for each expression</div></blockquote>
<p>Raises:</p>
<blockquote>
<div><p>AssertionError - model, parameter or function is missing</p>
<p>SyntaxError - improper expression syntax</p>
<p>ValueError - expressions have circular dependencies</p>
</div></blockquote>
<p>This function is not terribly sophisticated, and it would be easy to
trick.  However it handles the common cases cleanly and generates
reasonable messages for the common errors.</p>
<p>This code has not been fully audited for security.  While we have
removed the builtins and the ability to import modules, there may
be other vectors for users to perform more than simple function
evaluations.  Unauthenticated users should not be running this code.</p>
<p>Parameter names are assumed to contain only _.a-zA-Z0-9#[]</p>
<p>Both names are provided for inverse functions, e.g., acos and arccos.</p>
<p>Should try running the function to identify syntax errors before
running it in a fit.</p>
<p>Use help(fn) to see the code generated for the returned function fn.
dis.dis(fn) will show the corresponding python vm instructions.</p>
</dd></dl>

<dl class="function">
<dt id="sas.fit.expression.no_constraints">
<tt class="descclassname">sas.fit.expression.</tt><tt class="descname">no_constraints</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/expression.html#no_constraints"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This parameter set has no constraints between the parameters.</p>
</dd></dl>

<dl class="function">
<dt id="sas.fit.expression.order_dependencies">
<tt class="descclassname">sas.fit.expression.</tt><tt class="descname">order_dependencies</tt><big>(</big><em>pairs</em><big>)</big><a class="reference internal" href="../../_modules/sas/fit/expression.html#order_dependencies"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Order elements from pairs so that b comes before a in the
ordered list for all pairs (a,b).</p>
</dd></dl>

<dl class="function">
<dt id="sas.fit.expression.test_deps">
<tt class="descclassname">sas.fit.expression.</tt><tt class="descname">test_deps</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/expression.html#test_deps"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sas.fit.expression.test_expr">
<tt class="descclassname">sas.fit.expression.</tt><tt class="descname">test_expr</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/sas/fit/expression.html#test_expr"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-sas.fit">
<span id="module-contents"></span><h2>Module contents</h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">sas.fit package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-sas.fit.AbstractFitEngine">sas.fit.AbstractFitEngine module</a></li>
<li><a class="reference internal" href="#module-sas.fit.BumpsFitting">sas.fit.BumpsFitting module</a></li>
<li><a class="reference internal" href="#module-sas.fit.Fitting">sas.fit.Fitting module</a></li>
<li><a class="reference internal" href="#module-sas.fit.Loader">sas.fit.Loader module</a></li>
<li><a class="reference internal" href="#module-sas.fit.ParkFitting">sas.fit.ParkFitting module</a></li>
<li><a class="reference internal" href="#module-sas.fit.ScipyFitting">sas.fit.ScipyFitting module</a></li>
<li><a class="reference internal" href="#module-sas.fit.expression">sas.fit.expression module</a></li>
<li><a class="reference internal" href="#module-sas.fit">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="sas.dataloader.readers.html"
                        title="previous chapter">sas.dataloader.readers package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="sas.guiframe.html"
                        title="next chapter">sas.guiframe package</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/dev/api/sas.fit.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="sas.guiframe.html" title="sas.guiframe package"
             >next</a> |</li>
        <li class="right" >
          <a href="sas.dataloader.readers.html" title="sas.dataloader.readers package"
             >previous</a> |</li>
        <li><a href="../../index.html">SasView 3.0.0 documentation</a> &raquo;</li>
          <li><a href="../dev.html" >Developer Documentation</a> &raquo;</li>
          <li><a href="modules.html" >lib.macosx-10.5-x86_64-2.7</a> &raquo;</li>
          <li><a href="sas.html" >sas package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, The SasView Project.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>