
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>cylinder &#8212; SasView 5.0.2 documentation</title>
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="elliptical_cylinder" href="elliptical_cylinder.html" />
    <link rel="prev" title="core_shell_cylinder" href="core_shell_cylinder.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="elliptical_cylinder.html" title="elliptical_cylinder"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="core_shell_cylinder.html" title="core_shell_cylinder"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">SasView 5.0.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../user.html" >SasView User Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../qtgui/Perspectives/Fitting/models/index.html" >Model Functions</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../qtgui/Perspectives/Fitting/models/shape-cylinder.html" accesskey="U">Cylinder Functions</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="cylinder">
<span id="id1"></span><h1>cylinder</h1>
<p>Right circular cylinder with uniform scattering length density.</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="49%" />
<col width="17%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>Scale factor or Volume fraction</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>Source background</td>
<td>cm<sup>-1</sup></td>
<td>0.001</td>
</tr>
<tr class="row-even"><td>sld</td>
<td>Cylinder scattering length density</td>
<td>10<sup>-6</sup>Å<sup>-2</sup></td>
<td>4</td>
</tr>
<tr class="row-odd"><td>sld_solvent</td>
<td>Solvent scattering length density</td>
<td>10<sup>-6</sup>Å<sup>-2</sup></td>
<td>1</td>
</tr>
<tr class="row-even"><td>radius</td>
<td>Cylinder radius</td>
<td>Å</td>
<td>20</td>
</tr>
<tr class="row-odd"><td>length</td>
<td>Cylinder length</td>
<td>Å</td>
<td>400</td>
</tr>
<tr class="row-even"><td>theta</td>
<td>cylinder axis to beam angle</td>
<td>degree</td>
<td>60</td>
</tr>
<tr class="row-odd"><td>phi</td>
<td>rotation about beam</td>
<td>degree</td>
<td>60</td>
</tr>
</tbody>
</table>
<p>The returned value is scaled to units of cm<sup>-1</sup> sr<sup>-1</sup>, absolute scale.</p>
<p>For information about polarised and magnetic scattering, see
the <a class="reference internal" href="../qtgui/Perspectives/Fitting/magnetism/magnetism.html#magnetism"><span class="std std-ref">Polarisation/Magnetic Scattering</span></a> documentation.</p>
<p><strong>Definition</strong></p>
<p>The output of the 2D scattering intensity function for oriented cylinders is
given by (Guinier, 1955)</p>
<div class="math notranslate nohighlight">
\[P(q,\alpha) = \frac{\text{scale}}{V} F^2(q,\alpha).sin(\alpha) + \text{background}\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[F(q,\alpha) = 2 (\Delta \rho) V
       \frac{\sin \left(\tfrac12 qL\cos\alpha \right)}
            {\tfrac12 qL \cos \alpha}
       \frac{J_1 \left(q R \sin \alpha\right)}{q R \sin \alpha}\]</div>
<p>and <span class="math notranslate nohighlight">\(\alpha\)</span> is the angle between the axis of the cylinder and <span class="math notranslate nohighlight">\(\vec q\)</span>, <span class="math notranslate nohighlight">\(V =\pi R^2L\)</span>
is the volume of the cylinder, <span class="math notranslate nohighlight">\(L\)</span> is the length of the cylinder, <span class="math notranslate nohighlight">\(R\)</span> is the
radius of the cylinder, and <span class="math notranslate nohighlight">\(\Delta\rho\)</span> (contrast) is the scattering length
density difference between the scatterer and the solvent. <span class="math notranslate nohighlight">\(J_1\)</span> is the
first order Bessel function.</p>
<p>For randomly oriented particles:</p>
<div class="math notranslate nohighlight">
\[F^2(q)=\int_{0}^{\pi/2}{F^2(q,\alpha)\sin(\alpha)d\alpha}=\int_{0}^{1}{F^2(q,u)du}\]</div>
<p>Numerical integration is simplified by a change of variable to <span class="math notranslate nohighlight">\(u = cos(\alpha)\)</span> with
<span class="math notranslate nohighlight">\(sin(\alpha)=\sqrt{1-u^2}\)</span>.</p>
<p>The output of the 1D scattering intensity function for randomly oriented
cylinders is thus given by</p>
<div class="math notranslate nohighlight">
\[P(q) = \frac{\text{scale}}{V}
    \int_0^{\pi/2} F^2(q,\alpha) \sin \alpha\ d\alpha + \text{background}\]</div>
<p>NB: The 2nd virial coefficient of the cylinder is calculated based on the
radius and length values, and used as the effective radius for <span class="math notranslate nohighlight">\(S(q)\)</span>
when <span class="math notranslate nohighlight">\(P(q) \cdot S(q)\)</span> is applied.</p>
<p>For 2d scattering from oriented cylinders, we define the direction of the
axis of the cylinder using two angles <span class="math notranslate nohighlight">\(\theta\)</span> (note this is not the
same as the scattering angle used in q) and <span class="math notranslate nohighlight">\(\phi\)</span>. Those angles
are defined in <a class="reference internal" href="#cylinder-angle-definition"><span class="std std-numref">Fig. 21</span></a> , for further details see <a class="reference internal" href="../qtgui/Perspectives/Fitting/orientation/orientation.html#orientation"><span class="std std-ref">Oriented particles</span></a> .</p>
<div class="figure" id="id2">
<span id="cylinder-angle-definition"></span><img alt="../../_images/cylinder_angle_definition.png" src="../../_images/cylinder_angle_definition.png" />
<p class="caption"><span class="caption-number">Fig. 21 </span><span class="caption-text">Angles <span class="math notranslate nohighlight">\(\theta\)</span> and <span class="math notranslate nohighlight">\(\phi\)</span> orient the cylinder relative
to the beam line coordinates, where the beam is along the <span class="math notranslate nohighlight">\(z\)</span> axis. Rotation <span class="math notranslate nohighlight">\(\theta\)</span>, initially
in the <span class="math notranslate nohighlight">\(xz\)</span> plane, is carried out first, then rotation <span class="math notranslate nohighlight">\(\phi\)</span> about the <span class="math notranslate nohighlight">\(z\)</span> axis. Orientation distributions
are described as rotations about two perpendicular axes <span class="math notranslate nohighlight">\(\delta_1\)</span> and <span class="math notranslate nohighlight">\(\delta_2\)</span>
in the frame of the cylinder itself, which when <span class="math notranslate nohighlight">\(\theta = \phi = 0\)</span> are parallel to the <span class="math notranslate nohighlight">\(Y\)</span> and <span class="math notranslate nohighlight">\(X\)</span> axes.</span></p>
</div>
<div class="figure" id="id3">
<img alt="../../_images/cylinder_angle_projection.png" src="../../_images/cylinder_angle_projection.png" />
<p class="caption"><span class="caption-number">Fig. 22 </span><span class="caption-text">Examples for oriented cylinders.</span></p>
</div>
<p>The <span class="math notranslate nohighlight">\(\theta\)</span> and <span class="math notranslate nohighlight">\(\phi\)</span> parameters to orient the cylinder only appear in the model when fitting 2d data.</p>
<p><strong>Validation</strong></p>
<p>Validation of the code was done by comparing the output of the 1D model
to the output of the software provided by the NIST (Kline, 2006).
The implementation of the intensity for fully oriented cylinders was done
by averaging over a uniform distribution of orientations using</p>
<div class="math notranslate nohighlight">
\[P(q) = \int_0^{\pi/2} d\phi
    \int_0^\pi p(\theta) P_0(q,\theta) \sin \theta\ d\theta\]</div>
<p>where <span class="math notranslate nohighlight">\(p(\theta,\phi) = 1\)</span> is the probability distribution for the orientation
and <span class="math notranslate nohighlight">\(P_0(q,\theta)\)</span> is the scattering intensity for the fully oriented
system, and then comparing to the 1D result.</p>
<div class="figure" id="id4">
<img alt="../../_images/cylinder_autogenfig.png" src="../../_images/cylinder_autogenfig.png" />
<p class="caption"><span class="caption-number">Fig. 23 </span><span class="caption-text">1D and 2D plots corresponding to the default parameters of the model.</span></p>
</div>
<p><strong>Source</strong></p>
<p><a class="reference download internal" href="../../_downloads/cylinder.c" download=""><code class="xref download docutils literal notranslate"><span class="pre">cylinder.c</span></code></a>
<span class="math notranslate nohighlight">\(\ \star\ \)</span> <a class="reference download internal" href="../../_downloads/gauss76.c" download=""><code class="xref download docutils literal notranslate"><span class="pre">gauss76.c</span></code></a>
<span class="math notranslate nohighlight">\(\ \star\ \)</span> <a class="reference download internal" href="../../_downloads/sas_J1.c" download=""><code class="xref download docutils literal notranslate"><span class="pre">sas_J1.c</span></code></a>
<span class="math notranslate nohighlight">\(\ \star\ \)</span> <a class="reference download internal" href="../../_downloads/polevl.c" download=""><code class="xref download docutils literal notranslate"><span class="pre">polevl.c</span></code></a></p>
<p><strong>References</strong></p>
<ol class="arabic simple">
<li><ol class="first upperalpha" start="10">
<li>Pedersen, <em>Adv. Colloid Interface Sci.</em>, 70 (1997) 171-210</li>
</ol>
</li>
<li><ol class="first upperalpha" start="7">
<li>Fournet, <em>Bull. Soc. Fr. Mineral. Cristallogr.</em>, 74 (1951) 39-113</li>
</ol>
</li>
<li><ol class="first upperalpha" start="12">
<li>Onsager, <em>Ann. New York Acad. Sci.</em>, 51 (1949) 627-659</li>
</ol>
</li>
</ol>
<p><strong>Authorship and Verification</strong></p>
<ul class="simple">
<li><strong>Author:</strong></li>
<li><strong>Last Modified by:</strong></li>
<li><strong>Last Reviewed by:</strong></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="core_shell_cylinder.html"
                        title="previous chapter">core_shell_cylinder</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="elliptical_cylinder.html"
                        title="next chapter">elliptical_cylinder</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/user/models/cylinder.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="elliptical_cylinder.html" title="elliptical_cylinder"
             >next</a> |</li>
        <li class="right" >
          <a href="core_shell_cylinder.html" title="core_shell_cylinder"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">SasView 5.0.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../user.html" >SasView User Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../qtgui/Perspectives/Fitting/models/index.html" >Model Functions</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../qtgui/Perspectives/Fitting/models/shape-cylinder.html" >Cylinder Functions</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, The SasView Project.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4.
    </div>
  </body>
</html>